;(function(window) {

  var svgSprite = '<svg>' +
    '' +
    '<symbol id="icon-sousuo" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M1015.7783 938.2318 723.5205 644.0489c118.8301-156.9516 106.7182-381.4717-36.393-524.5819-156.4109-156.4109-410.0045-156.4109-566.4154 0-156.4109 156.375-156.4109 409.9697 0 566.3805 143.06 143.06 367.404 155.2425 524.3433 36.606l292.3223 294.2136c9.6051 9.6041 25.2221 9.6041 34.8252 0l43.5763-43.5763C1025.4172 963.4519 1025.4172 947.8369 1015.7783 938.2318zM194.9153 613.8132c-114.8621-114.8611-114.8621-301.0826 0-415.9089 114.8631-114.8621 301.0458-114.8621 415.9099 0 114.8631 114.8262 114.8631 301.0478 0 415.9089C495.9611 728.6764 309.7784 728.6764 194.9153 613.8132z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-shanchu" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M693.970944 231.906304c33.959936 4.780032 69.298176-1.37216 97.028096 3.345408 44.90752 7.640064 67.670016 45.82912 62.736384 102.047744-18.123776 0-36.245504 0-54.372352 0-1.531904 99.728384-0.833536 198.555648-0.833536 298.615808 0 50.50368 4.205568 103.617536-0.835584 148.888576-4.769792 42.800128-36.119552 68.866048-74.445824 75.282432-37.791744 6.326272-87.942144 1.673216-129.649664 1.673216-87.457792 0-176.078848 1.693696-261.8112 0-41.751552-0.826368-72.511488-14.076928-91.173888-39.315456-18.664448-25.23648-16.729088-63.427584-16.729088-108.737536 0-126.232576 0-251.404288 0-376.40704-17.288192 0-34.57536 0-51.861504 0-8.421376-51.725312 13.971456-88.896512 51.861504-101.211136 27.851776-9.054208 64.98304-1.7408 104.55552-4.182016-3.19488-55.675904-0.186368-97.969152 47.679488-103.72096 21.392384-2.571264 49.959936 0 76.115968 0 47.161344 0 101.813248 0 152.237056 0 29.026304 0 58.730496-2.801664 73.608192 10.037248C698.684416 156.007424 693.289984 196.973568 693.970944 231.906304zM380.29824 183.391232c0 16.729088 0 33.458176 0 50.187264 87.2704 0 174.5408 0 261.810176 0 0-17.565696 0-35.131392 0-52.696064-86.989824 0-173.983744 0-260.974592 0C380.158976 181.02272 380.225536 182.204416 380.29824 183.391232zM329.274368 343.154688c0 105.859072 0 211.275776 0 318.690304 0 27.22304-6.258688 85.224448 10.037248 97.02912 6.482944 4.697088 23.19872 5.390336 30.949376 0 16.86016-11.718656 10.873856-68.069376 10.873856-96.192512 0-108.795904 0-219.029504 0-322.036736-17.006592 0-34.016256 0-51.023872 0C329.136128 340.785152 329.201664 341.966848 329.274368 343.154688zM484.854784 343.154688c0 95.297536 0 206.577664 0 308.653056 0 24.351744-5.6576 81.993728 4.182016 98.702336 6.501376 11.03872 28.381184 16.043008 39.313408 7.529472 14.824448-11.544576 8.36608-72.590336 8.36608-97.865728 0-109.07136 0-213.696512 0-319.526912-17.007616 0-34.018304 0-51.024896 0C484.716544 340.785152 484.783104 341.966848 484.854784 343.154688zM642.108416 343.154688c0 102.566912 0 216.736768 0 322.873344 0 33.067008-6.44608 83.785728 15.055872 92.84608 9.362432 3.946496 25.977856 0.893952 30.111744-2.507776 14.038016-11.556864 7.530496-73.517056 7.530496-97.865728 0-108.521472 0-212.59264 0-317.853696-17.288192 0-34.576384 0-51.861504 0C641.970176 340.785152 642.036736 341.966848 642.108416 343.154688z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-radio" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M512 128.776945c-211.657258 0-383.23914 171.57468-383.23914 383.223055 0 211.647351 171.581882 383.223055 383.23914 383.223055S895.23914 723.647351 895.23914 512C895.23914 300.351626 723.657258 128.776945 512 128.776945zM728.833358 728.824257c-57.918492 57.916061-134.924492 89.811492-216.834381 89.811492-81.908866 0-158.914866-31.895431-216.833358-89.811492-57.918492-57.915038-89.815261-134.918829-89.815261-216.824257s31.89677-158.90922 89.815261-216.82528 134.924492-89.811492 216.833358-89.811492c81.908866 0 158.914866 31.895431 216.834381 89.811492s89.815261 134.918829 89.815261 216.82528S786.75185 670.908196 728.833358 728.824257z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-radio1" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M512 960C264.96 960 64 759.04 64 512S264.96 64 512 64s448 200.96 448 448S759.04 960 512 960zM512 128c-211.744 0-384 172.256-384 384s172.256 384 384 384 384-172.256 384-384S723.744 128 512 128z"  ></path>' +
    '' +
    '<path d="M512 512m-250 0a250 250 0 1 0 500 0 250 250 0 1 0-500 0Z"  ></path>' +
    '' +
    '<path d="M552.5 114.5A0.5 1 0 1 1 552.5 115.5Z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-fanhui" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M801.009811 416.939971c51.912323 30.944779 115.608018 114.424052 142.109602 214.915791 26.501584 100.489692 22.107507 190.477192 22.107507 190.477192s-34.30941-55.416124-48.220235-74.841545-72.528873-91.801822-163.516144-133.751237S510.41848 579.261916 510.41848 579.261916l0 174.679391-419.146219-296.895921 419.146219-296.894897 0 176.285982c0 0 100.689237 7.577582 153.318898 18.476817C752.385371 373.271402 801.009811 416.939971 801.009811 416.939971z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-shangchuan" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M213.333333 426.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667 0-166.4 132.266667-298.666667 298.666667-298.666667 128 0 243.2 85.333333 285.866667 209.066667C759.466667 315.733333 750.933333 341.333333 725.333333 345.6c-21.333333 8.533333-46.933333-4.266667-55.466667-25.6C644.266667 230.4 563.2 170.666667 469.333333 170.666667 349.866667 170.666667 256 264.533333 256 384 256 409.6 238.933333 426.666667 213.333333 426.666667zM768 768c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667c93.866667 0 170.666667-76.8 170.666667-170.666667s-76.8-170.666667-170.666667-170.666667c-12.8 0-29.866667 0-42.666667 4.266667-21.333333 4.266667-46.933333-8.533333-51.2-29.866667s8.533333-46.933333 29.866667-51.2C725.333333 260.266667 746.666667 256 768 256c140.8 0 256 115.2 256 256S908.8 768 768 768zM341.333333 768 213.333333 768c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l128 0c25.6 0 42.666667 17.066667 42.666667 42.666667S366.933333 768 341.333333 768zM768 768l-85.333333 0c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l85.333333 0c25.6 0 42.666667 17.066667 42.666667 42.666667S793.6 768 768 768zM213.333333 768c-119.466667 0-213.333333-93.866667-213.333333-213.333333s93.866667-213.333333 213.333333-213.333333c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667c-72.533333 0-128 55.466667-128 128s55.466667 128 128 128c25.6 0 42.666667 17.066667 42.666667 42.666667S238.933333 768 213.333333 768zM512 938.666667c-25.6 0-42.666667-17.066667-42.666667-42.666667L469.333333 469.333333c0-25.6 17.066667-42.666667 42.666667-42.666667s42.666667 17.066667 42.666667 42.666667l0 426.666667C554.666667 921.6 537.6 938.666667 512 938.666667zM384 640c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733333l128-128c17.066667-17.066667 42.666667-17.066667 59.733333 0s17.066667 42.666667 0 59.733333l-128 128C405.333333 635.733333 396.8 640 384 640zM640 640c-12.8 0-21.333333-4.266667-29.866667-12.8l-128-128c-17.066667-17.066667-17.066667-42.666667 0-59.733333s42.666667-17.066667 59.733333 0l128 128c17.066667 17.066667 17.066667 42.666667 0 59.733333C661.333333 635.733333 652.8 640 640 640z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-shangyiye" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M710.355627 959.771163c-13.051247 0-26.102495-4.981455-36.06438-14.944364L277.578969 548.06438c-19.924795-19.924795-19.924795-52.203966 0-72.129784L674.291247 79.172177c19.924795-19.924795 52.203966-19.924795 72.129784 0 19.924795 19.924795 19.924795 52.203966 0 72.129784L385.773134 512l360.647897 360.698039c19.924795 19.924795 19.924795 52.203966 0 72.129784C736.458121 954.789709 723.406874 959.771163 710.355627 959.771163z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-xinzeng" viewBox="0 0 1033 1024">' +
    '' +
    '<path d="M935.307087 608.755906 613.787213 608.755906 613.787213 927.244094C613.787213 980.685606 570.472819 1024 517.031307 1024L516.031496 1024C462.589984 1024 419.275591 980.685606 419.275591 927.244094L419.275591 608.755906 96.755906 608.755906C43.314394 608.755906 0 565.441512 0 512 0 458.558488 43.314394 415.244094 96.755906 415.244094L419.275591 415.244094 419.275591 96.755906C419.275591 43.314394 462.589984 0 516.031496 0L517.031307 0C570.472819 0 613.787213 43.314394 613.787213 96.755906L613.787213 415.244094 935.307087 415.244094C988.748598 415.244094 1032.062992 458.558488 1032.062992 512 1032.062992 565.441512 988.748598 608.755906 935.307087 608.755906Z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-shangyiye-copy" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M282.832 0c14.177 0 28.355 5.426 39.21 16.171l493.337 493.337-471.183 471.073c-21.599 21.599-56.71 21.599-78.309 0s-21.599-56.71 0-78.309l392.654-392.764-414.917-415.027c-21.599-21.599-21.599-56.71 0-78.309 10.855-10.744 25.032-16.171 39.21-16.171z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-xiazai" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M341.333333 825.566171 377.025977 789.873527 486.760332 899.607882 486.760332 451.83518 537.242101 451.83518 537.242101 899.607882 646.975239 789.873527 682.672748 825.566171 512.003649 996.235271ZM664.688375 715.836682l0-50.486634 114.205514 0c94.005022 0 170.483004-76.475549 170.483004-170.478138 0-89.351416-69.868548-163.951414-159.064277-169.833494l-50.216613-3.357018-6.120477-49.995244c-13.698094-111.962636-109.124983-196.394075-221.970661-196.394075-112.849327 0-208.278649 84.432655-221.976743 196.39894l-6.120477 49.994028-50.22391 3.353369c-89.183566 5.880863-159.052114 80.480861-159.052114 169.833494 0 94.002589 76.475549 170.478138 170.478138 170.478138l114.204297 0 0 50.486634L245.108544 715.836682c-121.840297 0-220.964772-99.124475-220.964772-220.963556 0-56.4125 21.283008-110.087085 59.926423-151.135146 38.454886-40.84737 90.396228-65.381577 146.257739-69.08646l8.543368-0.566801 1.03873-8.499581C256.68904 128.318369 373.664094 24.805445 512.003649 24.805445c138.337122 0 255.308527 103.512924 272.087536 240.778477l1.03873 8.499581 8.543368 0.566801c55.861512 3.704883 107.802853 28.240307 146.256523 69.08646 38.643414 41.049277 59.927639 94.722645 59.927639 151.135146 0 121.839081-99.124475 220.963556-220.964772 220.963556L664.688375 715.835465z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-checkbox" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M841.189929 65.813938 186.782545 65.813938c-65.708538 0-118.981858 53.246715-118.981858 118.981858l0 654.407384c0 65.677838 53.274344 118.982882 118.981858 118.982882l654.407384 0c65.709561 0 118.982882-53.306066 118.982882-118.982882L960.172811 184.795796C960.173834 119.05963 906.89949 65.813938 841.189929 65.813938M824.108902 404.374794 465.882148 762.631224c-23.121604 23.091928-60.535725 23.091928-83.60207 0-5.228071-5.228071-8.888438-11.302417-11.792581-17.660218-5.40408-2.788509-10.865465-5.78168-15.454994-10.314926L231.809041 611.403964c-23.180955-23.210631-23.180955-60.857043 0-84.124979 23.296589-23.208585 60.944024-23.208585 84.123956 0L424.982646 636.386962l315.640844-315.585585c23.00904-23.035646 60.422138-23.035646 83.485413 0C847.231529 343.866698 847.231529 381.279796 824.108902 404.374794"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-ok" viewBox="0 0 1026 1024">' +
    '' +
    '<path d="M410.88 872.96c-15.104 15.104-39.68 15.104-54.784 0l-12.032-12.032 0 0-12.8-13.056L273.92 790.784c-0.256-0.256 0-0.512-0.256-0.768L12.544 526.848c-15.104-15.104-15.104-39.68 0-54.784L94.72 389.888c15.104-15.104 39.68-15.104 54.784 0l234.496 236.288L876.8 133.376c15.104-15.104 39.68-15.104 54.784 0L1013.76 215.552c15.104 15.104 15.104 39.68 0 54.784L410.88 872.96z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-daochu" viewBox="0 0 1025 1024">' +
    '' +
    '<path d="M518.429 0.735c13.085 0 24.11 4.49 33.065 13.43l232.579 232.579c8.955 8.955 13.43 19.975 13.43 33.065 0 13.335-4.42 24.415-13.25 33.25-8.84 8.845-19.92 13.26-33.245 13.26-13.095 0-24.125-4.48-33.075-13.435l-152.975-153.35 0 538.909c0 12.83-4.545 23.8-13.63 32.895-9.095 9.09-20.06 13.635-32.895 13.635-12.85 0-23.81-4.545-32.9-13.635-9.095-9.095-13.65-20.065-13.65-32.895L471.883 159.534l-152.955 153.35c-9.45 8.96-20.47 13.435-33.08 13.435-12.85 0-23.8-4.55-32.895-13.635-9.095-9.09-13.645-20.065-13.645-32.9 0-12.605 4.47-23.635 13.43-33.07L485.314 14.135c8.95-8.96 19.99-13.43 33.07-13.43L518.429 0.735zM978.068 651.903c12.83 0 23.805 4.55 32.885 13.64 9.085 9.095 13.64 20.065 13.64 32.91l0 186.025c0 38.77-13.435 71.595-40.33 98.49-27.37 27.36-60.08 41.05-98.115 41.05L140.815 1024.018c-38.022 0-70.965-13.57-98.825-40.71-27.145-27.86-40.71-60.805-40.71-98.83L1.28 698.453c0-12.855 4.542-23.815 13.635-32.91 9.095-9.09 20.062-13.64 32.902-13.64 12.832 0 23.8 4.55 32.895 13.64 9.092 9.095 13.635 20.065 13.635 32.91l0 186.025c0 12.835 4.542 23.81 13.642 32.905 9.092 9.09 20.052 13.62 32.897 13.62l745.321 0c12.595 0 23.32-4.53 32.16-13.62 8.84-9.095 13.265-20.07 13.265-32.905L931.632 698.453c0-12.855 4.545-23.815 13.635-32.91 9.095-9.09 20.055-13.64 32.89-13.64L978.068 651.903z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-daoru" viewBox="0 0 1025 1024">' +
    '' +
    '<path d="M518.389 744.943c-13.085 0-24.11-4.49-33.062-13.43L252.744 498.934c-8.952-8.957-13.43-19.977-13.43-33.065 0-13.335 4.42-24.417 13.252-33.252 8.84-8.845 19.92-13.257 33.242-13.257 13.095 0 24.125 4.48 33.077 13.432l152.972 153.352L471.857 47.235c0-12.83 4.547-23.797 13.63-32.892 9.097-9.09 20.06-13.637 32.895-13.637 12.85 0 23.81 4.547 32.9 13.637 9.095 9.095 13.65 20.062 13.65 32.892l0 538.909 152.955-153.352c9.45-8.96 20.47-13.432 33.08-13.432 12.85 0 23.8 4.55 32.895 13.635 9.095 9.09 13.645 20.062 13.645 32.9 0 12.605-4.47 23.632-13.43 33.07L551.504 731.543c-8.95 8.96-19.99 13.43-33.07 13.43L518.389 744.943zM978.068 651.903c12.83 0 23.805 4.55 32.885 13.64 9.085 9.095 13.64 20.065 13.64 32.91l0 186.025c0 38.77-13.435 71.595-40.33 98.49-27.37 27.36-60.08 41.05-98.115 41.05L140.815 1024.018c-38.022 0-70.965-13.57-98.825-40.71-27.145-27.86-40.71-60.805-40.71-98.83L1.28 698.453c0-12.855 4.542-23.815 13.635-32.91 9.095-9.09 20.062-13.64 32.902-13.64 12.832 0 23.8 4.55 32.895 13.64 9.092 9.095 13.635 20.065 13.635 32.91l0 186.025c0 12.835 4.542 23.81 13.642 32.905 9.092 9.09 20.052 13.62 32.897 13.62l745.321 0c12.595 0 23.32-4.53 32.16-13.62 8.84-9.095 13.265-20.07 13.265-32.905L931.632 698.453c0-12.855 4.545-23.815 13.635-32.91 9.095-9.09 20.055-13.64 32.89-13.64L978.068 651.903z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-baocun" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M899.072 967.68H124.928c-40.71936 0-73.728-33.00864-73.728-73.728V119.808C51.2 79.08864 84.20864 46.08 124.928 46.08H235.52v268.288h552.96V46.08h110.592c40.71936 0 73.728 33.00864 73.728 73.728v774.144c0 40.71936-33.00864 73.728-73.728 73.728z m-83.968-438.272c0-40.71936-33.00864-73.728-73.728-73.728L281.6 455.2704c-40.71936 0-73.728 33.00864-73.728 73.728v276.48c0 40.71936 33.00864 73.728 73.728 73.728h460.8c40.71936 0 73.728-33.00864 73.728-73.728l-1.024-276.0704z m-148.2752 270.5408l-310.4768-0.2048c-34.6112 0-61.44-26.8288-61.44-61.44v-141.312c0-34.6112 26.8288-61.44 61.44-61.44h311.296c34.6112 0 61.8496 27.0336 61.8496 61.64992V737.28c0 34.6112-28.0576 62.6688-62.6688 62.6688zM694.272 201.728v4.096h-0.2048c-2.11456 32.01536-28.68736 57.344-61.2352 57.344s-59.1104-25.32864-61.23008-57.344h-0.20992v-102.4h0.20992C573.7216 71.40864 600.27904 46.08 632.832 46.08s59.12064 25.32864 61.2352 57.344h0.2048v98.304z" fill="" ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-quxiao" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M710.656 199.68L512 398.336 313.344 199.168c-31.232-31.232-81.92-31.232-113.664 0-31.232 31.232-31.232 81.92 0 113.664l198.656 198.656L199.68 710.144c-31.232 31.232-31.232 82.432 0 113.664 31.232 31.232 81.92 31.232 113.664 0l198.656-198.656 198.656 198.656c31.232 31.232 82.432 31.232 113.664 0 31.232-31.232 31.232-81.92 0-113.664l-198.656-198.656 198.144-198.144c31.232-31.232 31.232-81.92 0-113.664-31.232-31.232-81.92-31.232-113.152 0"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '<symbol id="icon-checkbox1" viewBox="0 0 1024 1024">' +
    '' +
    '<path d="M786.039865 128.343063H237.959112c-60.534701 0-109.615537 49.081858-109.615537 109.61656v548.080754c0 60.533678 49.079812 109.615537 109.615537 109.615536h548.080753c60.533678 0 109.615537-49.081858 109.615537-109.615536V237.959623c0-60.534701-49.081858-109.61656-109.615537-109.61656z m60.533678 627.724675c0 52.826136-42.819225 95.592149-95.592148 95.592149H273.016559c-52.774971 0-95.593172-42.766013-95.593172-95.592149V278.129508c0-52.774971 42.818201-95.593172 95.593172-95.593172h477.964836c52.772924 0 95.592149 42.818201 95.592148 95.593172v477.93823z"  ></path>' +
    '' +
    '</symbol>' +
    '' +
    '</svg>'
  var script = function() {
    var scripts = document.getElementsByTagName('script')
    return scripts[scripts.length - 1]
  }()
  var shouldInjectCss = script.getAttribute("data-injectcss")

  /**
   * document ready
   */
  var ready = function(fn) {
    if (document.addEventListener) {
      if (~["complete", "loaded", "interactive"].indexOf(document.readyState)) {
        setTimeout(fn, 0)
      } else {
        var loadFn = function() {
          document.removeEventListener("DOMContentLoaded", loadFn, false)
          fn()
        }
        document.addEventListener("DOMContentLoaded", loadFn, false)
      }
    } else if (document.attachEvent) {
      IEContentLoaded(window, fn)
    }

    function IEContentLoaded(w, fn) {
      var d = w.document,
        done = false,
        // only fire once
        init = function() {
          if (!done) {
            done = true
            fn()
          }
        }
        // polling for no errors
      var polling = function() {
        try {
          // throws errors until after ondocumentready
          d.documentElement.doScroll('left')
        } catch (e) {
          setTimeout(polling, 50)
          return
        }
        // no errors, fire

        init()
      };

      polling()
        // trying to always fire before onload
      d.onreadystatechange = function() {
        if (d.readyState == 'complete') {
          d.onreadystatechange = null
          init()
        }
      }
    }
  }

  /**
   * Insert el before target
   *
   * @param {Element} el
   * @param {Element} target
   */

  var before = function(el, target) {
    target.parentNode.insertBefore(el, target)
  }

  /**
   * Prepend el to target
   *
   * @param {Element} el
   * @param {Element} target
   */

  var prepend = function(el, target) {
    if (target.firstChild) {
      before(el, target.firstChild)
    } else {
      target.appendChild(el)
    }
  }

  function appendSvg() {
    var div, svg

    div = document.createElement('div')
    div.innerHTML = svgSprite
    svgSprite = null
    svg = div.getElementsByTagName('svg')[0]
    if (svg) {
      svg.setAttribute('aria-hidden', 'true')
      svg.style.position = 'absolute'
      svg.style.width = 0
      svg.style.height = 0
      svg.style.overflow = 'hidden'
      prepend(svg, document.body)
    }
  }

  if (shouldInjectCss && !window.__iconfont__svg__cssinject__) {
    window.__iconfont__svg__cssinject__ = true
    try {
      document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>");
    } catch (e) {
      console && console.log(e)
    }
  }

  ready(appendSvg)


})(window)
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: header组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var com;
        (function (com) {
            //页面头部
            var header = (function (_super) {
                __extends(header, _super);
                function header(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(header.prototype, "title", {
                    //标题
                    get: function () {
                        return this._control["title"];
                    },
                    set: function (value) {
                        this._control["title"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(header.prototype, "username", {
                    //用户名称
                    get: function () {
                        return this._control["username"];
                    },
                    set: function (value) {
                        this._control["username"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(header.prototype, "imgurl", {
                    //头像地址
                    get: function () {
                        return this._control["imgurl"];
                    },
                    set: function (value) {
                        this._control["imgurl"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(header.prototype, "spans", {
                    //头部菜单项
                    get: function () {
                        return this._control["spans"];
                    },
                    set: function (value) {
                        this._control["spans"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(header.prototype, "infonum", {
                    //消息数量
                    get: function () {
                        return this._control["infonum"];
                    },
                    set: function (value) {
                        this._control["infonum"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                header.prototype.init = function () {
                    Vue.component("ap-header", {
                        template: Base64.decode(sessionStorage["ap-header"]),
                        data: function () {
                            return {
                                roledown: false,
                                title: "奥派通用模块建设软件",
                                username: "管理员",
                                imgurl: "../../Img/Common/head.jpg",
                                infonum: "4",
                                student: false,
                                spans: [
                                    {
                                        "title": "任务"
                                    },
                                    {
                                        "title": "实验"
                                    },
                                    {
                                        "title": "学习管理"
                                    }
                                ]
                            };
                        },
                        methods: {
                            spanClick: function () {
                            },
                            logoutClick: function () {
                                //ap.scripts.common.loginentity.instance.clearLoginEntity();
                                window.location.href = "../../ap_module_login/views/login.html";
                                /* new ap.scripts.common.acbbcommon().GetPath("/ap_com_login/Login.html");*/
                            },
                            mouseover: function () {
                                this.roledown = true;
                            },
                            mouseout: function () {
                                this.roledown = false;
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return header;
            })(ap.core.ui);
            com.header = header;
        })(com = ui.com || (ui.com = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: menu组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var com;
        (function (com) {
            //菜单组件
            var menu = (function (_super) {
                __extends(menu, _super);
                function menu(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(menu.prototype, "options", {
                    //菜单选项
                    get: function () {
                        return this._control["options"];
                    },
                    set: function (value) {
                        this._control["options"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(menu.prototype, "title", {
                    //菜单标题
                    get: function () {
                        return this._control["title"];
                    },
                    set: function (value) {
                        this._control["title"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(menu.prototype, "defaultOption", {
                    //默认选中
                    get: function () {
                        return this._control["defaultoption"];
                    },
                    set: function (value) {
                        this._control["defaultoption"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                menu.prototype.init = function () {
                    Vue.component("ap-menu", {
                        template: Base64.decode(sessionStorage["ap-menu"]),
                        data: function () {
                            return {
                                value: "",
                                showsubnav: false,
                                menuindex: 0,
                                itemindex: 0,
                                options: [],
                                title: "管理员管理",
                                defaultoption: 0
                            };
                        },
                        computed: {
                            childlist: {
                                get: function () {
                                    //根据点击的主菜单绑定子菜单的数据
                                    var self = this;
                                    var list = this.options.filter(function (item) {
                                        return item.text == self.value;
                                    });
                                    if (list.length > 0) {
                                        return list[0].childoptions;
                                    }
                                },
                                set: function () { }
                            }
                        },
                        methods: {
                            menuClick: function (index, text, event) {
                                this.value = text;
                                this.menuindex = index;
                                var el = event.currentTarget;
                                if (el.parentElement.querySelector("li.cur")) {
                                    el.parentElement.querySelector("li.cur").classList.remove("cur");
                                }
                                el.classList.add("cur");
                                //$(el).addClass("cur").siblings().removeClass("cur");
                                var subnav = document.querySelector(".m-subnav");
                                if (this.options[index].childoptions) {
                                    this.showsubnav = true;
                                    el.parentElement.insertBefore(subnav, el.nextElementSibling);
                                }
                                else {
                                    window.location.href = this.options[index].href;
                                }
                            },
                            itemClick: function (index, event) {
                                var el = event.currentTarget;
                                //$(el).addClass("cur").siblings().removeClass("cur");
                                if (el.parentElement.querySelector("li.cur")) {
                                    el.parentElement.querySelector("li.cur").classList.remove("cur");
                                }
                                el.classList.add("cur");
                                window.location.href = this.options[this.menuindex].childoptions[index].href;
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return menu;
            })(ap.core.ui);
            com.menu = menu;
        })(com = ui.com || (ui.com = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: 侧边工具栏
**-----------------------------------------------------------------
******************************************************************/
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var com;
        (function (com) {
            var toolbar = (function (_super) {
                __extends(toolbar, _super);
                function toolbar(id) {
                    _super.call(this, id);
                    this.init();
                }
                toolbar.prototype.init = function () {
                    Vue.component("ap-toolbar", {
                        template: Base64.decode(sessionStorage["ap-toolbar"]),
                        props: {
                            fn: Function
                        },
                        methods: {
                            buttonClick: function () {
                                if (typeof (this.fn) == "function") {
                                    this.fn();
                                }
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return toolbar;
            })(ap.core.ui);
            com.toolbar = toolbar;
        })(com = ui.com || (ui.com = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: button组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var button = (function (_super) {
                __extends(button, _super);
                /*构造函数*/
                function button(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(button.prototype, "value", {
                    /*value值设置*/
                    get: function () {
                        return this._control["storedtext"];
                    },
                    set: function (value) {
                        this._control["storedtext"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                /*初始化组件*/
                button.prototype.init = function () {
                    Vue.component("ap-button", {
                        props: {
                            fn: {
                                type: [Function, Object]
                            },
                            text: {
                                type: String,
                                default: ""
                            },
                            classname: {
                                type: String
                            },
                            type: {
                                type: String,
                                default: "button"
                            },
                            style: {
                                type: Object
                            }
                        },
                        data: function () {
                            return {
                                storedtext: ""
                            };
                        },
                        methods: {},
                        created: function () {
                            this.storedtext = this.text;
                            if (this.type == "a") {
                                this.$options.template = '<a :class="classname"  :style="style" ><slot></slot>{{storedtext}}</a>';
                            }
                            else {
                                this.$options.template = '<button type="button" :class="classname"  :style="style" ><slot></slot>{{storedtext}}</button>';
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return button;
            })(ap.core.ui);
            widget.button = button;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年2月22日09:42:31
** 描 述: button新组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var buttons = (function (_super) {
                __extends(buttons, _super);
                /*构造函数*/
                function buttons(id) {
                    _super.call(this, id);
                    this.init();
                }
                /*初始化组件*/
                buttons.prototype.init = function () {
                    Vue.component("ap-buttons", {
                        created: function () {
                            this.storedtext = this.text;
                            var classarr = this.type.split(" ");
                            if (classarr.indexOf("btn") > -1) {
                                this.$options.template = new ap.utility.ajax.ajaxPackage().ajax_getcontent("../../ap_ui/widget/button/views/button_template.html");
                            }
                            else if (classarr.indexOf("icon") > -1) {
                                this.$options.template = new ap.utility.ajax.ajaxPackage().ajax_getcontent("../../ap_ui/widget/button/views/icon_template.html");
                            }
                            if (classarr[1]) {
                                var type = classarr[1].split("-")[1];
                                if (type == "save") {
                                    this.classname = "u-button btn-primary";
                                    this.iconclass = "icon-save";
                                }
                                else if (type == "confirm") {
                                    this.classname = "u-button btn-primary";
                                    this.iconclass = "icon-confirm";
                                }
                                else if (type == "back") {
                                    this.classname = "u-button btn-primary";
                                    this.iconclass = "icon-back";
                                }
                                else if (type == "search") {
                                    this.classname = "u-button btn-search";
                                    this.iconclass = "icon-search";
                                }
                                else if (type == "cancel") {
                                    this.classname = "u-button btn-default";
                                    this.iconclass = "icon-cancel";
                                }
                                else if (type == "add") {
                                    this.classname = "u-button btn-primary";
                                    this.iconclass = "icon-add";
                                }
                                else if (type == "delete") {
                                    this.classname = "u-button btn-default";
                                    this.iconclass = "icon-delete";
                                }
                                else if (type == "import") {
                                    this.classname = "u-button btn-primary";
                                    this.iconclass = "icon-import";
                                }
                                else if (type == "export") {
                                    this.classname = "u-button btn-primary";
                                    this.iconclass = "icon-export";
                                }
                                else if (type == "download") {
                                    this.classname = "u-button btn-primary";
                                    this.iconclass = "icon-download";
                                }
                                else if (type == "upload") {
                                    this.classname = "u-button btn-primary";
                                    this.iconclass = "icon-upload";
                                }
                            }
                            if (classarr[2]) {
                                //this.classname+=" btn-small"
                                this.classname += classarr[2];
                            }
                        },
                        data: function () {
                            return {
                                storedtext: "",
                                classname: "",
                                iconclass: ""
                            };
                        },
                        props: {
                            type: {
                                type: String,
                                default: "btn"
                            },
                            style: {
                                type: Object
                            },
                            text: {
                                type: String,
                                default: ""
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return buttons;
            })(ap.core.ui);
            widget.buttons = buttons;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: checkbox组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var checkbox = (function (_super) {
                __extends(checkbox, _super);
                /*构造函数*/
                function checkbox(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(checkbox.prototype, "value", {
                    /*复选框选中值*/
                    get: function () {
                        return this._control["value"];
                    },
                    set: function (value) {
                        this._control["value"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(checkbox.prototype, "options", {
                    /*复选框选项*/
                    get: function () {
                        return this._control["options"];
                    },
                    set: function (value) {
                        this._control["options"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(checkbox.prototype, "data", {
                    /*复选框数据*/
                    get: function () {
                        return this._control["data"];
                    },
                    set: function (value) {
                        this._control["data"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(checkbox.prototype, "dataValueField", {
                    /*value值*/
                    get: function () {
                        return this._control["dataValueField"];
                    },
                    set: function (value) {
                        this._control["dataValueField"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(checkbox.prototype, "dataTextField", {
                    /*text值*/
                    get: function () {
                        return this._control["dataTextField"];
                    },
                    set: function (value) {
                        this._control["dataTextField"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(checkbox.prototype, "disabled", {
                    /*disabled值*/
                    get: function () {
                        return this._control["disabled"];
                    },
                    set: function (value) {
                        this._control["disabled"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                /*初始化组件*/
                checkbox.prototype.init = function () {
                    Vue.component("ap-checkbox", {
                        template: '<div>' +
                            '<label v-for="(item,index) in options" class="m-choicelabel" v-on:click="iclick(item.value,index)"><i :class="cbclass(item.value,index)"></i>{{item.text}}</label>' +
                            '</div>',
                        props: {
                            callback: Function
                        },
                        data: function () {
                            return {
                                value: [],
                                options: [],
                                data: [],
                                dataValueField: "",
                                dataTextField: "",
                                disabled: []
                            };
                        },
                        watch: {
                            data: function () {
                                var self = this;
                                if (!(this.dataValueField && this.dataTextField))
                                    return;
                                this.options = [];
                                this.data.forEach(function (value, index, arr) {
                                    var obj = {};
                                    obj.value = value[self.dataValueField];
                                    obj.text = value[self.dataTextField];
                                    self.options.push(obj);
                                });
                            }
                        },
                        methods: {
                            cbclass: function (val, index) {
                                if (this.value.indexOf(val) > -1) {
                                    if (this.disabled[index]) {
                                        return "u-checkbox icon-checkbox icon-checkboxsel dis";
                                    }
                                    else {
                                        return "u-checkbox icon-checkbox icon-checkboxsel";
                                    }
                                }
                                else {
                                    if (this.disabled[index]) {
                                        return "u-checkbox icon-checkbox dis";
                                    }
                                    else {
                                        return "u-checkbox icon-checkbox";
                                    }
                                }
                            },
                            iclick: function (val, index) {
                                if (this.disabled[index])
                                    return;
                                if (this.value.indexOf(val) > -1) {
                                    for (var i = 0; i < this.value.length; i++) {
                                        if (this.value[i] == val) {
                                            this.value.splice(i, 1);
                                            break;
                                        }
                                    }
                                }
                                else
                                    this.value.push(val);
                                if (this.callback) {
                                    this.callback(val, this.value);
                                }
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return checkbox;
            })(ap.core.ui);
            widget.checkbox = checkbox;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: datepicker组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var datepicker = (function (_super) {
                __extends(datepicker, _super);
                function datepicker(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(datepicker.prototype, "value", {
                    //设置值
                    get: function () {
                        return this._control["value"];
                    },
                    set: function (value) {
                        if (value) {
                            value = this._control["stringify"](new Date(value));
                        }
                        this._control["value"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(datepicker.prototype, "format", {
                    //设置时间格式
                    get: function () {
                        return this._control["format"];
                    },
                    set: function (value) {
                        this._control["format"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(datepicker.prototype, "disableddate", {
                    //禁用时间
                    get: function () {
                        return this._control["disableddate"];
                    },
                    set: function (value) {
                        this._control["disableddate"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                datepicker.prototype.init = function () {
                    var datepicker = this;
                    Vue.component("ap-datepicker", {
                        template: new ap.utility.ajax.ajaxPackage().ajax_getcontent("../../ap_ui/widget/datepicker/views/template.html"),
                        data: function () {
                            var today = new Date;
                            return {
                                weekRange: ['日', '一', '二', '三', '四', '五', '六'],
                                dateRange: [],
                                currDate: "",
                                popupDisplay: false,
                                value: "",
                                isMonthShow: false,
                                isYearShow: false,
                                isHourShow: false,
                                isMinuteShow: false,
                                isSecondShow: false,
                                isTimeShow: false,
                                month: "一月",
                                year: "2013",
                                hour: "00",
                                minute: "00",
                                second: "00",
                                format: "yyyy-MM-dd",
                                hdisabled: false,
                                mdisabled: false,
                                sdisabled: false,
                                disableddate: "",
                                bottom: ""
                            };
                        },
                        props: {
                            classname: [String],
                            validate: [String, Object],
                            checkmsg: [String, Object],
                            toggle: {
                                type: String,
                                default: "down"
                            },
                            callback: {
                                type: Function
                            }
                        },
                        created: function () {
                            this.currDate = new Date;
                        },
                        watch: {
                            currDate: function () {
                                this.getDateRange();
                                this.setYear(this.currDate.getFullYear());
                                this.setMonth(this.currDate.getMonth() + 1);
                                this.setYear(this.currDate.getFullYear());
                            },
                            value: function () {
                                var self = this;
                                var valueDate = this.parse(this.value);
                                if (valueDate) {
                                    this.currDate = valueDate;
                                    this.setMonth(this.currDate.getMonth() + 1);
                                    this.setYear(this.currDate.getFullYear());
                                    this.setHour(this.currDate.getHours());
                                    this.setMinute(this.currDate.getMinutes());
                                    this.setSecond(this.currDate.getSeconds());
                                }
                                setTimeout(function () {
                                    self.validatefn();
                                }, 100);
                            },
                            format: function (val) {
                                if (val.indexOf("hh")) {
                                    this.isTimeShow = true;
                                }
                                if (val.indexOf("hh") < 0) {
                                    this.hdisabled = true;
                                }
                                if (val.indexOf("mm") < 0) {
                                    this.mdisabled = true;
                                }
                                if (val.indexOf("ss") < 0) {
                                    this.sdisabled = true;
                                }
                            },
                            disableddate: function (val) {
                                if (val) {
                                    if (this.isdisabled(this.currDate)) {
                                        this.currDate = this.parse(this.disableddate.value);
                                    }
                                    this.getDateRange();
                                }
                            }
                        },
                        methods: {
                            monthClick: function (val) {
                                this.setMonth(val);
                                this.currDate = new Date(this.currDate.getFullYear(), val - 1, this.currDate.getDate());
                                this.isMonthShow = false;
                            },
                            yearClick: function (val) {
                                this.setYear(val);
                                this.currDate = new Date(val, this.currDate.getMonth(), this.currDate.getDate());
                                this.isYearShow = false;
                            },
                            hourClick: function (val) {
                                this.setHour(val);
                                this.currDate = new Date(this.currDate.getFullYear(), this.currDate.getMonth(), this.currDate.getDate(), val, this.currDate.getMinutes(), this.currDate.getSeconds());
                                this.isHourShow = false;
                            },
                            minuteClick: function (val) {
                                this.setMinute(val);
                                this.currDate = new Date(this.currDate.getFullYear(), this.currDate.getMonth(), this.currDate.getDate(), this.currDate.getHours(), val, this.currDate.getSeconds());
                                this.isMinuteShow = false;
                            },
                            secondClick: function (val) {
                                this.setSecond(val);
                                this.currDate = new Date(this.currDate.getFullYear(), this.currDate.getMonth(), this.currDate.getDate(), this.currDate.getHours(), this.currDate.getMinutes(), val);
                                this.isSecondShow = false;
                            },
                            triggerMonth: function () {
                                this.isMonthShow = !this.isMonthShow;
                            },
                            triggerYear: function () {
                                this.isYearShow = !this.isYearShow;
                            },
                            triggerHour: function () {
                                this.isHourShow = !this.isHourShow;
                                this.isMinuteShow = false;
                                this.isSecondShow = false;
                            },
                            triggerMinute: function () {
                                this.isMinuteShow = !this.isMinuteShow;
                                this.isHourShow = false;
                                this.isSecondShow = false;
                            },
                            triggerSecond: function () {
                                this.isSecondShow = !this.isSecondShow;
                                this.isHourShow = false;
                                this.isMinuteShow = false;
                            },
                            mouseover: function (e, date) {
                                if (!date) {
                                    return;
                                }
                                if (this.isdisabled(date)) {
                                    return;
                                }
                                else {
                                    e.target.className = "WdayOn";
                                }
                            },
                            mouseout: function (e, classname) {
                                e.target.className = classname;
                            },
                            inputClick: function (e) {
                                if (this.toggle == "up") {
                                    this.$el.style.position = "relative";
                                    var bottom = this.$el.children[0].offsetHeight;
                                    this.bottom = bottom + "px";
                                }
                                if (this.parse(this.value)) {
                                    this.currDate = this.parse(this.value);
                                }
                                this.popupDisplay = true;
                                var self = this;
                                datepicker.winClick(self.$el, function () {
                                    self.popupDisplay = false;
                                    self.validatefn();
                                });
                            },
                            preNextYearClick: function (flag) {
                                var year;
                                if (flag == 0) {
                                    year = this.currDate.getFullYear() - 1;
                                    this.setYear(year);
                                    this.currDate = new Date(year, this.currDate.getMonth(), this.currDate.getDate());
                                }
                                else if (flag == 1) {
                                    year = this.currDate.getFullYear() + 1;
                                    this.setYear(year);
                                    this.currDate = new Date(year, this.currDate.getMonth(), this.currDate.getDate());
                                }
                            },
                            preNextMonthClick: function (flag) {
                                if (flag == 0) {
                                    var preMonth = this.getYearMonth(this.currDate.getFullYear(), this.currDate.getMonth() - 1);
                                    this.setMonth(preMonth.month + 1);
                                    this.currDate = new Date(preMonth.year, preMonth.month, this.currDate.getDate());
                                }
                                else if (flag == 1) {
                                    var nextMonth = this.getYearMonth(this.currDate.getFullYear(), this.currDate.getMonth() + 1);
                                    this.setMonth(nextMonth.month + 1);
                                    this.currDate = new Date(nextMonth.year, nextMonth.month, this.currDate.getDate());
                                }
                            },
                            itemClick: function (date) {
                                if (this.isdisabled(date))
                                    return;
                                date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), this.hour, this.minute, this.second);
                                this.value = this.stringify(date);
                                this.currDate = date;
                                this.popupDisplay = false;
                                if (this.callback) {
                                    this.callback();
                                }
                            },
                            clearClick: function () {
                                this.value = "";
                                this.disableddate = "";
                                this.popupDisplay = false;
                            },
                            todayClick: function () {
                                if (this.isdisabled(new Date))
                                    return;
                                this.currDate = new Date;
                                this.value = this.stringify(this.currDate);
                                this.setYear(this.currDate.getFullYear());
                                this.setMonth(this.currDate.getMonth() + 1);
                                this.setYear(this.currDate.getFullYear());
                            },
                            confirmClick: function () {
                                this.value = this.stringify(this.currDate);
                                this.popupDisplay = false;
                                if (this.callback) {
                                    this.callback();
                                }
                            },
                            getYearMonth: function (year, month) {
                                if (month > 11) {
                                    year++;
                                    month = 0;
                                }
                                else if (month < 0) {
                                    year--;
                                    month = 11;
                                }
                                return { year: year, month: month };
                            },
                            stringify: function (date) {
                                var year = date.getFullYear();
                                var month = date.getMonth() + 1;
                                var day = date.getDate();
                                var hour = date.getHours();
                                var minute = date.getMinutes();
                                var second = date.getSeconds();
                                var temp = this.format
                                    .replace(/yyyy/g, year)
                                    .replace(/MM/g, ('0' + month).slice(-2))
                                    .replace(/dd/g, ('0' + day).slice(-2))
                                    .replace(/yy/g, year)
                                    .replace(/M/g, month)
                                    .replace(/d/g, day);
                                if (this.format.indexOf("hh") > 0) {
                                    temp = temp.replace(/hh/g, ('0' + hour).slice(-2));
                                }
                                if (this.format.indexOf("mm") > 0) {
                                    temp = temp.replace(/mm/g, ('0' + minute).slice(-2));
                                }
                                if (this.format.indexOf("ss") > 0) {
                                    temp = temp.replace(/ss/g, ('0' + second).slice(-2));
                                }
                                return temp;
                            },
                            parse: function (str) {
                                var date = new Date(str);
                                if (str && date.toString() == "Invalid Date") {
                                    date = this.getDateForStringDate(str);
                                }
                                return isNaN(date.getFullYear()) ? null : date;
                            },
                            getDayCount: function (year, month) {
                                var dict = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
                                //如果2月
                                if (month == 1) {
                                    //如果闰年
                                    if ((year % 400 == 0) || (year % 4 == 0 && year % 100 != 0)) {
                                        return 29;
                                    }
                                    return 28;
                                }
                                return dict[month];
                            },
                            getDateRange: function () {
                                this.dateRange = [];
                                var time = {
                                    year: this.currDate.getFullYear(),
                                    month: this.currDate.getMonth(),
                                    day: this.currDate.getDate()
                                };
                                //当月总天数
                                var dayCount = this.getDayCount(time.year, time.month);
                                //第一天
                                var currMonthFirstDay = new Date(time.year, time.month, 1);
                                //第一周如果不足7天的补齐上周
                                var firstWeekDay = currMonthFirstDay.getDay();
                                if (firstWeekDay == 0) {
                                    firstWeekDay = 7;
                                }
                                var preMonth = this.getYearMonth(time.year, time.month - 1);
                                var preMonthDayCount = this.getDayCount(preMonth.year, preMonth.month);
                                for (var i = 0; i < firstWeekDay; i++) {
                                    var daytext = preMonthDayCount + i - firstWeekDay + 1;
                                    if (this.isdisabled(new Date(preMonth.year, preMonth.month, daytext))) {
                                        this.dateRange.push({
                                            text: daytext,
                                            date: new Date(preMonth.year, preMonth.month, daytext),
                                            sclass: 'WotherDay'
                                        });
                                    }
                                    else {
                                        this.dateRange.push({
                                            text: daytext,
                                            date: new Date(preMonth.year, preMonth.month, daytext),
                                            sclass: 'WinvalidDay'
                                        });
                                    }
                                }
                                //本月
                                var currMonthDayCount = this.getDayCount(time.year, time.month);
                                for (var i = 0; i < currMonthDayCount; i++) {
                                    var daytext = i + 1;
                                    var date = new Date(time.year, time.month, daytext);
                                    var weekday = date.getDay();
                                    var sclass = '';
                                    if (weekday == 6 || weekday == 0) {
                                        sclass = 'Wwday';
                                    }
                                    else {
                                        sclass = "Wday";
                                    }
                                    if (daytext == time.day && this.value) {
                                        var valueDate = this.parse(this.value);
                                        if (valueDate) {
                                            if (valueDate.getFullYear() == time.year && valueDate.getMonth() == time.month) {
                                                sclass = 'Wselday';
                                            }
                                        }
                                    }
                                    else if (!this.value && (daytext == time.day)) {
                                        sclass = 'Wselday';
                                    }
                                    if (this.isdisabled(new Date(time.year, time.month, daytext))) {
                                        this.dateRange.push({
                                            text: daytext,
                                            date: new Date(time.year, time.month, daytext),
                                            sclass: 'WinvalidDay'
                                        });
                                    }
                                    else {
                                        this.dateRange.push({
                                            text: daytext,
                                            date: new Date(time.year, time.month, daytext),
                                            sclass: sclass
                                        });
                                    }
                                }
                                //下月补全
                                var nextMonthDayCount = 42 - currMonthDayCount - firstWeekDay;
                                var nextMonth = this.getYearMonth(time.year, time.month + 1);
                                for (var i = 0; i < nextMonthDayCount; i++) {
                                    var daytext = i + 1;
                                    if (this.isdisabled(new Date(nextMonth.year, nextMonth.month, daytext))) {
                                        this.dateRange.push({
                                            text: daytext,
                                            date: new Date(nextMonth.year, nextMonth.month, daytext),
                                            sclass: 'WotherDay'
                                        });
                                    }
                                    else {
                                        this.dateRange.push({
                                            text: daytext,
                                            date: new Date(nextMonth.year, nextMonth.month, daytext),
                                            sclass: 'WinvalidDay'
                                        });
                                    }
                                }
                            },
                            setMonth: function (val) {
                                switch (val) {
                                    case 1:
                                        {
                                            this.month = "一月";
                                            break;
                                        }
                                        ;
                                    case 2:
                                        {
                                            this.month = "二月";
                                            break;
                                        }
                                        ;
                                    case 3:
                                        {
                                            this.month = "三月";
                                            break;
                                        }
                                        ;
                                    case 4:
                                        {
                                            this.month = "四月";
                                            break;
                                        }
                                        ;
                                    case 5:
                                        {
                                            this.month = "五月";
                                            break;
                                        }
                                        ;
                                    case 6:
                                        {
                                            this.month = "六月";
                                            break;
                                        }
                                        ;
                                    case 7:
                                        {
                                            this.month = "七月";
                                            break;
                                        }
                                        ;
                                    case 8:
                                        {
                                            this.month = "八月";
                                            break;
                                        }
                                        ;
                                    case 9:
                                        {
                                            this.month = "九月";
                                            break;
                                        }
                                        ;
                                    case 10:
                                        {
                                            this.month = "十月";
                                            break;
                                        }
                                        ;
                                    case 11:
                                        {
                                            this.month = "十一";
                                            break;
                                        }
                                        ;
                                    case 12:
                                        {
                                            this.month = "十二";
                                            break;
                                        }
                                        ;
                                }
                            },
                            setYear: function (val) {
                                this.year = val;
                            },
                            setHour: function (val) {
                                this.hour = val;
                            },
                            setMinute: function (val) {
                                this.minute = val;
                            },
                            setSecond: function (val) {
                                this.second = val;
                            },
                            validatefn: function () {
                                if (!this.validate)
                                    return;
                                var dom = this.$el.querySelector(".Wdate");
                                if (dom.getAttribute("data-blur") == "false")
                                    return false;
                                var isError = ap.ui.widget.Validate.validInput(dom);
                                return isError;
                            },
                            isdisabled: function (date) {
                                if (!this.disableddate)
                                    return false;
                                var disdate = this.parse(this.disableddate.value);
                                if (this.disableddate.type == "<") {
                                    return new Date(date.getFullYear(), date.getMonth(), date.getDate()) < new Date(disdate.getFullYear(), disdate.getMonth(), disdate.getDate());
                                }
                                else if (this.disableddate.type == "=") {
                                    return new Date(date.getFullYear(), date.getMonth(), date.getDate()) == new Date(disdate.getFullYear(), disdate.getMonth(), disdate.getDate());
                                }
                                else if (this.disableddate.type == ">") {
                                    return new Date(date.getFullYear(), date.getMonth(), date.getDate()) > new Date(disdate.getFullYear(), disdate.getMonth(), disdate.getDate());
                                }
                                return false;
                            },
                            getDateForStringDate: function (strDate) {
                                //解决 ie，火狐浏览器不兼容new Date(s)
                                var s = strDate.split(" ");
                                var s1 = s[0].split("-");
                                var s2 = s[1].split(":");
                                if (s2.length == 2) {
                                    s2.push("00");
                                }
                                return new Date(s1[0], s1[1] - 1, s1[2], s2[0], s2[1], s2[2]);
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            var me = this;
                            me.getDateRange();
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return datepicker;
            })(ap.core.ui);
            widget.datepicker = datepicker;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: 编辑器组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var editor = (function (_super) {
                __extends(editor, _super);
                //a.forEach(function (command) {
                //    this[command] = this.cmd.bind(this, command);
                //}, this.proto);
                //el.addEventListener('mouseout', function (e) {
                //    this.proto.saveSelection();
                //})
                //public rangeSelectsSingleNode(range) {
                //    var startNode = range.startContainer;
                //    return startNode === range.endContainer && startNode.hasChildNodes() && range.endOffset === range.startOffset + 1;
                //}
                //public getSelectedElement(range) {
                //    var selectedElement;
                //    if (this.rangeSelectsSingleNode(range)) {
                //        // Selection encompasses a single element
                //        selectedElement = range.startContainer.childNodes[range.startOffset];
                //    } else if (range.startContainer.nodeType === 3) {
                //        // Selection range starts inside a text node, so get its parent
                //        selectedElement = range.startContainer.parentNode;
                //    } else {
                //        // Selection starts inside an element
                //        selectedElement = range.startContainer;
                //    }
                //    return selectedElement;
                //}
                function editor(id) {
                    _super.call(this, id);
                    this.proto = {
                        el: null,
                        // calls to the browser's execCommand, returns success or failure.
                        cmd: function (command, val) {
                            var success = document.execCommand(command, false, val || null);
                            return success;
                        },
                        // whether or not the formating command can be executed on the current range
                        cmdEnabled: function (cmd) {
                            return document.queryCommandEnabled(cmd);
                        },
                        // whether or not the formating command has been executed on the current range (i.e. active)
                        cmdState: function (cmd) {
                            return document.queryCommandState(cmd);
                        },
                        // toggle whether or not the element is editable
                        enable: function (enable) {
                            this.el.setAttribute("contenteditable", enable);
                            return this;
                        },
                        // give focus back to the element
                        focus: function () {
                            this.el.focus();
                            return this;
                        },
                        // get the html of the element
                        getHtml: function () {
                            return this.el.innerHTML;
                        },
                        // replace the innerHTML of the element (maintains a history)
                        replaceHtml: function (html) {
                            this.restoreSelection();
                            this.cmd("selectAll");
                            this.cmd("insertHTML", html);
                            window.getSelection().removeAllRanges();
                        },
                        // get the currently selected range
                        getCurrentRange: function () {
                            var sel = window.getSelection();
                            if (sel.getRangeAt && sel.rangeCount) {
                                return sel.getRangeAt(0);
                            }
                        },
                        // save the user selection
                        saveSelection: function () {
                            this.savedRange = this.getCurrentRange();
                            return this;
                        },
                        // restore the user selection
                        restoreSelection: function () {
                            var selection = window.getSelection();
                            if (this.savedRange) {
                                try {
                                    selection.removeAllRanges();
                                }
                                catch (ex) {
                                    document.body.createTextRange().select();
                                    document.selection.empty();
                                }
                                selection.addRange(this.savedRange);
                            }
                            return this;
                        },
                        // whether or not there is a selection
                        hasSelection: function () {
                            return (this.savedRange !== undefined) && !this.savedRange.collapsed;
                        },
                        // get the nearest container element for the current range.
                        getElement: function () {
                            var el, range = this.getCurrentRange();
                            if (range) {
                                // normalize Firefox & Chrome tag selection
                                el = this.getSelectedElement(range);
                                if (el.nodeType !== 1)
                                    el = range.commonAncestorContainer;
                            }
                            return el;
                        },
                        // find the closest element of selection for selector.
                        closest: function (selector) {
                            var el = this.getElement();
                            if (!el)
                                return;
                            var matches = el.matches || el.webkitMatchesSelector || el.mozMatchesSelector || el.msMatchesSelector;
                            while (el && el !== this.el && this.el.contains(el)) {
                                if (matches.call(el, selector))
                                    break;
                                el = el.parentNode;
                            }
                            return (el !== this.el) ? el : undefined;
                        },
                        // gets the selections element hierarchy
                        parents: function () {
                            var current = this.getCurrentRange();
                            var parents = [];
                            if (current) {
                                var parent = current.commonAncestorContainer;
                                // ensure we're starting with an ELEMENT_NODE
                                if (parent.nodeType !== 1)
                                    parent = parent.parentNode;
                                while (parent && parent !== this.el && this.el.contains(parent)) {
                                    parents.push(parent);
                                    parent = parent.parentNode;
                                }
                            }
                            return parents;
                        },
                        // selects an element
                        selectElement: function (el) {
                            var sel = window.getSelection();
                            sel.removeAllRanges();
                            var range = document.createRange();
                            range.selectNode(el);
                            sel.addRange(range);
                            this.saveSelection();
                            return this;
                        },
                        restart: function () {
                            var range = document.createRange();
                            range.selectNode(this.el);
                            range.startOffset = 1;
                        },
                        getSelectedElement: function (range) {
                            var selectedElement;
                            if (this.rangeSelectsSingleNode(range)) {
                                // Selection encompasses a single element
                                selectedElement = range.startContainer.childNodes[range.startOffset];
                            }
                            else if (range.startContainer.nodeType === 3) {
                                // Selection range starts inside a text node, so get its parent
                                selectedElement = range.startContainer.parentNode;
                            }
                            else {
                                // Selection starts inside an element
                                selectedElement = range.startContainer;
                            }
                            return selectedElement;
                        },
                        rangeSelectsSingleNode: function (range) {
                            var startNode = range.startContainer;
                            return startNode === range.endContainer && startNode.hasChildNodes() && range.endOffset === range.startOffset + 1;
                        }
                    };
                    var self = this;
                    //var proto2 = new editor().proto;
                    Vue.component("ApEditor", {
                        created: function () {
                            //var filePath = new ap.scripts.common.acbbcommon().GetPath("/ap_widget_ui/editor/templates/editor_template.html");
                            this.$options.template = new ap.utility.ajax.ajaxPackage().ajax_getcontent("../../editor/views/editor_template.html");
                        },
                        props: {
                            value: {
                                default: ""
                            }
                        },
                        data: function () {
                            return {
                                htmlstate: true,
                                showfontsize: false,
                                fontsize: [
                                    { "text": "Small", "value": "2" },
                                    { "text": "Normal", "value": "3" },
                                    { "text": "Medium", "value": "4" },
                                    { "text": "Large", "value": "5" },
                                    { "text": "Huge", "value": "6" }
                                ],
                                showfontname: false,
                                fontname: [
                                    { "text": "宋体", "value": "宋体" },
                                    { "text": "黑体", "value": "黑体" },
                                    { "text": "楷体", "value": "楷体" },
                                    { "text": "微软雅黑", "value": "微软雅黑" },
                                    { "text": "Arial", "value": "Arial" },
                                    { "text": "Verdana", "value": "Verdana" },
                                    { "text": "Georgia", "value": "Georgia" },
                                    { "text": "Times New Roman", "value": "Times New Roman" },
                                    { "text": "Microsoft JhengHei", "value": "Microsoft JhengHei" },
                                    { "text": "Trebuchet MS", "value": "Trebuchet MS" },
                                    { "text": "Courier New", "value": "Courier New" },
                                    { "text": "Impact", "value": "Impact" },
                                    { "text": "Comic Sans MS", "value": "Comic Sans MS" },
                                    { "text": "Consolas", "value": "Consolas" }
                                ],
                                showforecolor: false,
                                forecolor: [{ name: 'Black', style: 'background-color:#000000' },
                                    { name: 'MediumBlack', style: 'background-color:#444444' },
                                    { name: 'LightBlack', style: 'background-color:#666666' },
                                    { name: 'DimBlack', style: 'background-color:#999999' },
                                    { name: 'Gray', style: 'background-color:#CCCCCC' },
                                    { name: 'DimGray', style: 'background-color:#EEEEEE' },
                                    { name: 'LightGray', style: 'background-color:#F3F3F3' },
                                    { name: 'White', style: 'background-color:#FFFFFF' },
                                    //{ name: 'libreak', style: null },
                                    { name: 'Red', style: 'background-color:#FF0000' },
                                    { name: 'Orange', style: 'background-color:#FF9900' },
                                    { name: 'Yellow', style: 'background-color:#FFFF00' },
                                    { name: 'Lime', style: 'background-color:#00FF00' },
                                    { name: 'Cyan', style: 'background-color:#00FFFF' },
                                    { name: 'Blue', style: 'background-color:#0000FF' },
                                    { name: 'BlueViolet', style: 'background-color:#8A2BE2' },
                                    { name: 'Magenta', style: 'background-color:#FF00FF' },
                                    //{ name: 'libreak', style: null },
                                    { name: 'LightPink', style: 'background-color:#FFB6C1' },
                                    { name: 'Bisque', style: 'background-color:#FCE5CD' },
                                    { name: 'BlanchedAlmond', style: 'background-color:#FFF2CC' },
                                    { name: 'LightLime', style: 'background-color:#D9EAD3' },
                                    { name: 'LightCyan', style: 'background-color:#D0E0E3' },
                                    { name: 'AliceBlue', style: 'background-color:#CFE2F3' },
                                    { name: 'Lavender', style: 'background-color:#D9D2E9' },
                                    { name: 'Thistle', style: 'background-color:#EAD1DC' },
                                    { name: 'LightCoral', style: 'background-color:#EA9999' },
                                    { name: 'Wheat', style: 'background-color:#F9CB9C' },
                                    { name: 'NavajoWhite', style: 'background-color:#FFE599' },
                                    { name: 'DarkSeaGreen', style: 'background-color:#B6D7A8' },
                                    { name: 'LightBlue', style: 'background-color:#A2C4C9' },
                                    { name: 'SkyBlue', style: 'background-color:#9FC5E8' },
                                    { name: 'LightPurple', style: 'background-color:#B4A7D6' },
                                    { name: 'PaleVioletRed', style: 'background-color:#D5A6BD' },
                                    { name: 'IndianRed', style: 'background-color:#E06666' },
                                    { name: 'LightSandyBrown', style: 'background-color:#F6B26B' },
                                    { name: 'Khaki', style: 'background-color:#FFD966' },
                                    { name: 'YellowGreen', style: 'background-color:#93C47D' },
                                    { name: 'CadetBlue', style: 'background-color:#76A5AF' },
                                    { name: 'DeepSkyBlue', style: 'background-color:#6FA8DC' },
                                    { name: 'MediumPurple', style: 'background-color:#8E7CC3' },
                                    { name: 'MediumVioletRed', style: 'background-color:#C27BA0' },
                                    { name: 'Crimson', style: 'background-color:#CC0000' },
                                    { name: 'SandyBrown', style: 'background-color:#E69138' },
                                    { name: 'Gold', style: 'background-color:#F1C232' },
                                    { name: 'MediumSeaGreen', style: 'background-color:#6AA84F' },
                                    { name: 'Teal', style: 'background-color:#45818E' },
                                    { name: 'SteelBlue', style: 'background-color:#3D85C6' },
                                    { name: 'SlateBlue', style: 'background-color:#674EA7' },
                                    { name: 'VioletRed', style: 'background-color:#A64D79' },
                                    { name: 'Brown', style: 'background-color:#990000' },
                                    { name: 'Chocolate', style: 'background-color:#B45F06' },
                                    { name: 'GoldenRod', style: 'background-color:#BF9000' },
                                    { name: 'Green', style: 'background-color:#38761D' },
                                    { name: 'SlateGray', style: 'background-color:#134F5C' },
                                    { name: 'RoyalBlue', style: 'background-color:#0B5394' },
                                    { name: 'Indigo', style: 'background-color:#351C75' },
                                    { name: 'Maroon', style: 'background-color:#741B47' },
                                    { name: 'DarkRed', style: 'background-color:#660000' },
                                    { name: 'SaddleBrown', style: 'background-color:#783F04' },
                                    { name: 'DarkGoldenRod', style: 'background-color:#7F6000' },
                                    { name: 'DarkGreen', style: 'background-color:#274E13' },
                                    { name: 'DarkSlateGray', style: 'background-color:#0C343D' },
                                    { name: 'Navy', style: 'background-color:#073763' },
                                    { name: 'MidnightBlue', style: 'background-color:#20124D' },
                                    { name: 'DarkMaroon', style: 'background-color:#4C1130' }]
                            };
                        },
                        mounted: function () {
                            var _this = this;
                            self.proto.el = this.$el.children[1].firstChild;
                            self.bindUpload();
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        },
                        computed: {
                            forecolorstyle: {
                                get: function () { },
                                set: function () { }
                            }
                        },
                        methods: {
                            clearDoc: function () {
                                if (confirm("确认要清空吗？")) {
                                    self.proto.el.innerHTML = "";
                                }
                            },
                            doMouseout: function () {
                                state = self.proto.saveSelection();
                            },
                            printDoc: function () {
                                var oPrntWin = window.open("", "_blank", "width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");
                                oPrntWin.document.open();
                                oPrntWin.document.write("<!doctype html><html><head><title>Print<\/title><\/head><body onload=\"print();\">" + self.proto.el.innerHTML + "<\/body><\/html>");
                                oPrntWin.document.close();
                            },
                            undo: function () {
                                self.proto.restoreSelection().focus().undo();
                            },
                            redo: function () {
                                self.proto.restoreSelection().focus().redo();
                            },
                            bold: function () {
                                state.restoreSelection().bold();
                                state.saveSelection();
                            },
                            underline: function () {
                                state.restoreSelection().underline();
                                state.saveSelection();
                            },
                            italic: function () {
                                state.restoreSelection().focus().italic();
                                state.saveSelection();
                            },
                            justifyLeft: function () {
                                self.proto.restoreSelection().focus().justifyLeft();
                            },
                            justifyRight: function () {
                                self.proto.restoreSelection().focus().justifyRight();
                            },
                            justifyCenter: function () {
                                self.proto.restoreSelection().focus().justifyCenter();
                            },
                            justifyFull: function () {
                                self.proto.restoreSelection().focus().justifyFull();
                            },
                            toggleFontSize: function () {
                                this.showfontsize = !this.showfontsize;
                                this.showfontname = false;
                                this.showforecolor = false;
                            },
                            fontSize: function (val) {
                                state.restoreSelection().focus().fontSize(val);
                                state.saveSelection();
                            },
                            toggleFontName: function () {
                                this.showfontname = !this.showfontname;
                                this.showforecolor = false;
                                this.showfontsize = false;
                            },
                            fontName: function (val) {
                                state.restoreSelection().focus().fontName(val);
                                state.saveSelection();
                            },
                            toggleForeColor: function () {
                                this.showforecolor = !this.showforecolor;
                                this.showfontname = false;
                                this.showfontsize = false;
                            },
                            foreColor: function (val) {
                                val = val.split(":")[1];
                                state.restoreSelection().focus().foreColor(val);
                                state.saveSelection();
                            },
                            backColor: function (val) {
                                val = val.split(":")[1];
                                self.proto.restoreSelection().focus().backColor(val);
                            },
                            indent: function () {
                                self.proto.restoreSelection().focus().indent();
                            },
                            outdent: function () {
                                self.proto.restoreSelection().focus().outdent();
                            },
                            insertOrderedList: function () {
                                self.proto.restoreSelection().focus().insertOrderedList();
                            },
                            insertUnorderedList: function () {
                                self.proto.restoreSelection().focus().insertUnorderedList();
                            },
                            blockquote: function () {
                                if (navigator.userAgent.match(/MSIE/i)) {
                                    self.proto.restoreSelection().focus().indent();
                                }
                                else {
                                    self.proto.restoreSelection().focus().formatBlock('<blockquote>');
                                }
                            },
                            video: function () {
                                self.bindUploadFile();
                            },
                            selectall: function () {
                                state.restoreSelection().selectAll();
                                state.saveSelection();
                            },
                            removeformat: function () {
                                state.restoreSelection().focus().removeFormat();
                            },
                            createLink: function () {
                                var sLnk = prompt("请输入超链接地址", "http:\/\/");
                                if (sLnk && sLnk !== "http://") {
                                    var sText = document.getSelection();
                                    self.proto.restoreSelection().focus().insertHTML('<a href="' + sLnk + '" target="_blank">' + sLnk + '</a>');
                                }
                            },
                            unlink: function () {
                                self.proto.restoreSelection().unlink();
                            },
                            toHtml: function () {
                                if (this.htmlstate) {
                                    var editor = document.querySelector("#input-edit");
                                    var content = document.createTextNode(document.querySelector("#input-edit").innerHTML);
                                    editor.innerHTML = "";
                                    editor.setAttribute("contenteditable", "false");
                                    var pre = document.createElement('pre');
                                    pre.setAttribute("contenteditable", "true");
                                    pre.appendChild(content);
                                    editor.appendChild(pre);
                                    this.htmlstate = false;
                                }
                                else {
                                    var code = document.querySelector("#input-edit pre").innerText;
                                    document.querySelector("#input-edit").innerHTML = code;
                                    document.querySelector("#input-edit").setAttribute("contenteditable", "true");
                                    this.htmlstate = true;
                                }
                            }
                        }
                    });
                    this.init();
                }
                editor.prototype.init = function () {
                    ["bold", "italic", "copy", "cut", "paste", "delete",
                        "forwardDelete", "fontName", "fontSize", "foreColor",
                        "hiliteColor", "backColor", "justifyCenter", "justifyFull",
                        "justifyLeft", "justifyRight", "strikeThrough", "subscript",
                        "superscript", "underline", "removeFormat", "heading", "formatBlock",
                        "indent", "outdent", "createLink", "unlink", "insertBrOnReturn",
                        "insertHorizontalRule", "insertImage", "insertOrderedList",
                        "insertUnorderedList", "insertParagraph", "insertText",
                        "insertHTML", "undo", "redo", "selectAll"].forEach(function (command) {
                        this[command] = this.cmd.bind(this, command);
                    }, this.proto);
                };
                editor.prototype.bindUpload = function () {
                    var self = this;
                    var CRUpload = new ap.utility.upload.UploadPackage();
                    CRUpload.resourcesUpdate("ImgUpload", acbbBasicConfig.GetValue("name"), "*.jpg;*.png;*.bmp", new ap.scripts.common.acbbcommon().GetPath("/ap_utility/upload/filepicture.html"), function (file, response) {
                        var downloadurl = acbbBasicConfig.GetPluginValue("download") + "/GetFile?filePath=" + acbbBasicConfig.GetValue("name") + "/&fileName=";
                        var path = downloadurl + response.NewFileName;
                        self.proto.restoreSelection().focus().insertHTML("<img src='" + path + "' />");
                    }, null);
                };
                editor.prototype.bindUploadFile = function () {
                    var self = this;
                    var CRUpload = new ap.widget.acbbfunction.UploadPackage();
                    CRUpload.resourcesUpdate("ImgUpload", acbbBasicConfig.GetValue("name"), "*.mp4;*.avi", new ap.scripts.common.acbbcommon().GetPath("/ap_widget_function/upload/uploadResources.html"), function (file, response) {
                        var downloadurl = acbbBasicConfig.GetPluginValue("download") + "/GetFile?filePath=" + acbbBasicConfig.GetValue("name") + "/&fileName=";
                        var path = downloadurl + response.NewFileName;
                        self.proto.restoreSelection().focus().insertHTML("<br/>");
                        var vedio = '<video controls="controls"><source src="' + path + '" type="video/mp4; codecs=avc1.42E01E, mp4a.40.2" /></video>';
                        //var embed = '<embed src="'+path+'" autostart= true >';
                        self.proto.restoreSelection().focus().insertHTML(vedio);
                    }, null);
                };
                return editor;
            })(ap.core.ui);
            widget.editor = editor;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));
//editor.BindUpload(); 

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: input组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var input = (function (_super) {
                __extends(input, _super);
                /*构造函数*/
                function input(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(input.prototype, "value", {
                    /*value值设置*/
                    get: function () {
                        return this._control["value"];
                    },
                    set: function (value) {
                        this._control["value"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(input.prototype, "disabled", {
                    /*disabled值设置*/
                    get: function () {
                        return this._control["disabled"];
                    },
                    set: function (value) {
                        this._control["disabled"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                /*初始化组件*/
                input.prototype.init = function () {
                    Vue.component("ap-input", {
                        template: '<input :type="type" v-model="value" v-on:input="onInput" :class="classname" :style="style" @blur="blur" @focus="focus" @keydown="keydown" :placeholder="placeholder" :data-check="validate" :data-checkmsg="checkmsg" :maxlength="maxlength" :disabled="disabled"/>',
                        props: {
                            type: {
                                type: String,
                                default: "text"
                            },
                            style: String,
                            validate: [String, Object],
                            placeholder: [String],
                            checkmsg: [String, Object],
                            classname: {
                                type: String,
                                default: "allpass-input-regular"
                            },
                            changefn: Function,
                            maxlength: String,
                            onkeydown: Function
                        },
                        data: function () {
                            return {
                                value: "",
                                disabled: false
                            };
                        },
                        watch: {
                            value: function (val) {
                                var self = this;
                                if (this.type != "hidden")
                                    return;
                                if (!val)
                                    return;
                                setTimeout(function () {
                                    self.blur();
                                }, 10);
                            }
                        },
                        methods: {
                            onInput: function (event) {
                                if (this.changefn) {
                                    this.changefn();
                                }
                                //前者用v-model双向绑定,后者是data存储的input的值
                                this.$emit('input', event.target.value);
                                //this.storedvalue = event.target.value;
                            },
                            blur: function () {
                                if (!this.validate)
                                    return;
                                var dom = this.$el;
                                if (dom.getAttribute("data-blur") == "false")
                                    return false;
                                var isError = ap.ui.widget.Validate.validInput(dom);
                                return isError;
                            },
                            focus: function () {
                            },
                            keydown: function () {
                                if (this.onkeydown) {
                                    this.onkeydown();
                                }
                            }
                        },
                        created: function () {
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return input;
            })(ap.core.ui);
            widget.input = input;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: pager组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var pager = (function (_super) {
                __extends(pager, _super);
                function pager(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(pager.prototype, "pageCount", {
                    //页数
                    get: function () {
                        return this._control["pagecount"];
                    },
                    set: function (value) {
                        this._control["pagecount"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(pager.prototype, "currentPage", {
                    //目前页面
                    get: function () {
                        return this._control["currentpage"];
                    },
                    set: function (value) {
                        this._control["currentpage"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(pager.prototype, "callback", {
                    //回调
                    get: function () {
                        return this._control["callback"];
                    },
                    set: function (value) {
                        this._control["callback"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                pager.prototype.init = function () {
                    Vue.component("ap-pager", {
                        created: function () {
                            this.$options.template = new ap.utility.ajax.ajaxPackage().ajax_getcontent("../../ap_ui/widget/pager/views/pager_template.html");
                            //if (sessionStorage["ap-pager"]) {
                            //    this.$options.template = sessionStorage["ap-pager"];
                            //} else {
                            //    this.$options.template = new ap.utility.ajax.ajaxPackage().ajax_getcontent("../../ap_ui/widget/pager/views/pager_template.html");
                            //}
                        },
                        data: function () {
                            return {
                                pages: [],
                                currentpage: 1,
                                pagecount: 1,
                                startindex: {
                                    type: Number,
                                    default: 1
                                },
                                endindex: {
                                    type: Number,
                                    default: 1
                                },
                                isPageEmpty: false,
                                pageinterval: 5
                            };
                        },
                        watch: {
                            pagecount: function () {
                                this.startindex = 1;
                                this.endindex = (this.startindex + this.pageinterval - 1) < this.pagecount ? (this.startindex + this.pageinterval - 1) : this.pagecount;
                                this.pages = [];
                                for (var i = this.startindex; i <= this.endindex; i++) {
                                    this.pages.push(i);
                                }
                                //如果当前页数大于页码数量就调到最后一页，用于删除最后一页所有数据
                                if (this.currentpage > this.pagecount) {
                                    this.currentpage = this.pagecount == 0 ? 1 : this.pagecount;
                                }
                            },
                            endindex: function () {
                                this.pages = [];
                                for (var i = this.startindex; i <= this.endindex; i++) {
                                    this.pages.push(i);
                                }
                            },
                            currentpage: function () {
                                this.callback();
                            }
                        },
                        methods: {
                            prepage: function () {
                                if (this.currentpage <= 1)
                                    return;
                                this.currentpage -= 1;
                                var index = Math.floor((this.currentpage - 1) / this.pageinterval);
                                if (this.currentpage < this.startindex) {
                                    this.startindex = this.pageinterval * index + 1;
                                    this.endindex = this.pageinterval * (index + 1);
                                }
                            },
                            nextpage: function () {
                                if (this.currentpage >= this.pagecount)
                                    return;
                                this.currentpage += 1;
                                if (this.currentpage > this.endindex) {
                                    this.startindex += this.pageinterval;
                                    this.endindex += this.pageinterval;
                                    this.endindex = this.pagecount > this.endindex ? this.endindex : this.pagecount;
                                }
                            },
                            preinterval: function () {
                                var index = Math.floor((this.currentpage - 1) / this.pageinterval);
                                index = index - 1 > 0 ? index - 1 : 0;
                                this.currentpage = index * this.pageinterval + 1;
                                this.startindex = this.currentpage;
                                this.endindex = (this.startindex + this.pageinterval) > this.pagecount ? this.pagecount : (this.startindex + this.pageinterval - 1);
                            },
                            nextinterval: function () {
                                var index = Math.floor((this.currentpage - 1) / this.pageinterval);
                                var totalindex = this.pagecount / this.pageinterval;
                                index = index + 1 < totalindex ? index + 1 : totalindex;
                                this.currentpage = index * this.pageinterval + 1;
                                this.startindex = this.currentpage;
                                this.endindex = (this.startindex + this.pageinterval) > this.pagecount ? this.pagecount : (this.startindex + this.pageinterval - 1);
                            },
                            gotopage: function (pageindex) {
                                this.currentpage = pageindex;
                            },
                            callback: function () {
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return pager;
            })(ap.core.ui);
            widget.pager = pager;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var select = (function (_super) {
                __extends(select, _super);
                /*构造函数*/
                function select(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(select.prototype, "value", {
                    /*下拉框选中值*/
                    get: function () {
                        return this._control["value"];
                    },
                    set: function (value) {
                        this._control["value"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(select.prototype, "text", {
                    /*下拉框显示值*/
                    get: function () {
                        return this._control["wrappedText"];
                    },
                    set: function (value) {
                        this._control["wrappedText"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(select.prototype, "options", {
                    /*下拉框选项*/
                    get: function () {
                        return this._control["options"];
                    },
                    set: function (value) {
                        this._control["options"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(select.prototype, "data", {
                    /*下拉框数据*/
                    get: function () {
                        return this._control["data"];
                    },
                    set: function (value) {
                        this._control["data"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(select.prototype, "dataValueField", {
                    /*value值*/
                    get: function () {
                        return this._control["dataValueField"];
                    },
                    set: function (value) {
                        this._control["dataValueField"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(select.prototype, "dataTextField", {
                    /*text值*/
                    get: function () {
                        return this._control["dataTextField"];
                    },
                    set: function (value) {
                        this._control["dataTextField"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                /*初始化组件*/
                select.prototype.init = function () {
                    var select = this;
                    Vue.component("ap-select", {
                        template: '<div class="m-select">' +
                            '<div class="dropdown" :style= "btnstyle" >' +
                            '<div class="dropdown-toggle" v-on:click="buttonClick" ><label :style="{width:swidth}">{{wrappedText}}</label><span class="arrow"><i></i></span></div>' +
                            '<div class="scroll-list-wrap" data-scroll="scrollMe" v-show="isshow" :style="liststyle">' +
                            '<ul class="option scroll-list">' +
                            '<li v-for="(item,index) in options" v-on:click="itemClick(index)"><a>{{item.text}}</a></li >' +
                            '</ul>' +
                            '</div><div v-show="isscrollshow" class="scroll-bg" style="height: 170px; top:33px"><div class="scroll-block"  style="height: 40px;" :style={top:top}></div></div>' +
                            '</div>' +
                            '</div>',
                        props: {
                            text: String,
                            btnstyle: {
                                type: Object,
                                default: function () {
                                    return {};
                                }
                            },
                            swidth: {
                                type: String,
                                default: "111px"
                            },
                            liststyle: {
                                type: Object,
                                default: function () {
                                    return {};
                                }
                            },
                            itemcallback: {
                                type: Function
                            },
                            liheight: {
                                type: String,
                                default: "26px"
                            }
                        },
                        data: function () {
                            return {
                                options: [],
                                value: "",
                                data: [],
                                dataValueField: "",
                                dataTextField: "",
                                display: true,
                                wrappedText: this.text,
                                width: 1582,
                                height: 1400,
                                heightfix: 130,
                                scrollBarHeightDiff: 0,
                                factHeightDiff: 0,
                                cssCore: 'webkit',
                                isValidDrag: false,
                                top: "0px",
                                heightFix: 400,
                                _top: 0,
                                max: 321,
                                nowTop: 0,
                                scrollArr: [],
                                start: {},
                                delta: {},
                                _thisScroll: "",
                                _t: false,
                                sb: "",
                                sk: "",
                                step: 0,
                                h: 0,
                                H: 0,
                                isshow: false,
                                isscrollshow: false
                            };
                        },
                        watch: {
                            data: function () {
                                var self = this;
                                if (!(this.dataValueField && this.dataTextField))
                                    return;
                                this.options = [];
                                this.data.forEach(function (value, index, arr) {
                                    var obj = {};
                                    obj.value = value[self.dataValueField];
                                    obj.text = value[self.dataTextField];
                                    self.options.push(obj);
                                });
                            },
                            options: function () {
                            }
                        },
                        created: function () {
                            this.cssCore = function (testCss) {
                                switch (true) {
                                    case testCss.webkitTransition === '':
                                        return 'webkit';
                                        break;
                                    case testCss.MozTransition === '':
                                        return 'Moz';
                                        break;
                                    case testCss.msTransition === '':
                                        return 'ms';
                                        break;
                                    case testCss.OTransition === '':
                                        return 'O';
                                        break;
                                    default:
                                        return '';
                                }
                            }(document.createElement('ComicView').style);
                        },
                        methods: {
                            buttonClick: function () {
                                if (!this.options) {
                                    return;
                                }
                                var self = this;
                                var o = self.$el.querySelector(".scroll-list-wrap");
                                while (o.tagName.toUpperCase() !== 'BODY') {
                                    self._thisScroll = o.getAttribute('data-scroll');
                                    if (self._thisScroll) {
                                        self.scrollArr.push(self._thisScroll);
                                        break;
                                    }
                                    else {
                                        o = o.parentNode;
                                    }
                                }
                                ;
                                if (!self.isshow) {
                                    self.isshow = true;
                                }
                                else {
                                    self.isshow = false;
                                    self.isscrollshow = false;
                                }
                                setTimeout(function () {
                                    var H = self.options.length * (self.$el.querySelector("li").offsetHeight);
                                    var fd = self.factHeightDiff;
                                    var fx = self.heightfix;
                                    var h = fx ? fx : self.height - fd;
                                    h = H - 1 < h ? H : h;
                                    var fh = self.scrollBarHeightDiff;
                                    var S = h - fh;
                                    var s = h / H * S;
                                    s = s > S ? S + 1 : s;
                                    //self.$el.querySelector(".scroll-list-wrap").style.width = self.swidth;
                                    self.$el.querySelector(".scroll-list-wrap").style.height = h + 'px';
                                    self.h = h;
                                    self.H = H;
                                    console.log(h + "," + H);
                                    self.$el.querySelector(".scroll-bg").style.height = S + 'px';
                                    self.$el.querySelector(".scroll-block").style.height = s * 0.8 + 'px';
                                    self.max = ~~(S - s + 1);
                                    self.step = s;
                                    if (self.isshow) {
                                        if (self.H === self.h) {
                                            self.isscrollshow = false;
                                        }
                                        else {
                                            self.isscrollshow = true;
                                        }
                                    }
                                    self.$el.querySelector(".scroll-list").style.position = "relative";
                                    o.onmouseover = function (e) {
                                        e.cancelBubble = true;
                                        o.onmousewheel = self.wheelScroll;
                                        /*Firefox注册事件*/
                                        if (document.addEventListener) {
                                            o.addEventListener('DOMMouseScroll', self.wheelScroll, false);
                                        }
                                        select.winClick(self.$el, function () {
                                            self.isshow = false;
                                            self.isscrollshow = false;
                                        });
                                    };
                                    self.$el.onmousedown = function (e) {
                                        if (e.target.className == "scroll-bg") {
                                            self.sb = e.target;
                                            self.bgMouseDown();
                                        }
                                        else if (e.target.className == "scroll-block") {
                                            self.sb = self.$el.querySelector(".scroll-bg");
                                            self.sk = e.target;
                                            self.skMouseDown();
                                        }
                                        else {
                                        }
                                    };
                                    document.body.onmouseup = function () {
                                        document.body.onmousemove = null;
                                        if (self.isValidDrag) {
                                            self.restart();
                                        }
                                    };
                                });
                            },
                            itemClick: function (index) {
                                var self = this;
                                this.isshow = false;
                                this.isscrollshow = false;
                                self.wrappedText = self.options[index].text;
                                this.$emit("input", self.options[index].value);
                                self.value = self.options[index].value;
                                if (self.itemcallback) {
                                    this.itemcallback(self.text, self.value);
                                }
                            },
                            cssCore: function (testCss) {
                                switch (true) {
                                    case testCss.webkitTransition === '':
                                        return 'webkit';
                                        break;
                                    case testCss.MozTransition === '':
                                        return 'Moz';
                                        break;
                                    case testCss.msTransition === '':
                                        return 'ms';
                                        break;
                                    case testCss.OTransition === '':
                                        return 'O';
                                        break;
                                    default:
                                        return '';
                                }
                            },
                            translate: function () {
                                if (this.cssCore !== '') {
                                    return function (o, x, y) {
                                        o[this.cssCore + 'Transform'] = 'translate(' + x + 'px,' + y + 'px) translateZ(0)';
                                    };
                                }
                                else {
                                    return function (o, x, y) {
                                        o.left = x + 'px';
                                        o.top = y + 'px';
                                    };
                                }
                            }(),
                            pull: function (e) {
                                if (this._top < 0) {
                                    this._top = 0;
                                }
                                else if (this._top > this.max) {
                                    this._top = this.max;
                                }
                                try {
                                    this.top = this._top + 'px';
                                    //this.translate(this.$el.querySelector(".scroll-list").style, 0, (this._top / this.max * (this.h - this.H)) >> 0);
                                    this.$el.querySelector(".scroll-list").style.top = ((this._top / this.max * (this.h - this.H)) >> 0) + "px";
                                }
                                catch (e) {
                                }
                                //this.top = parseInt(this.top.split("px")[0]) + 8 + "px";
                            },
                            goScroll: function (e) {
                                var len = this.scrollArr.length, o;
                                e = e || window.event;
                                if (e.preventDefault) {
                                    e.preventDefault();
                                }
                                else {
                                    e.returnValue = false;
                                }
                                if (this.isValidDrag) {
                                    this.delta = {
                                        X: e.clientX - this.start.X,
                                        Y: e.clientY - this.start.Y
                                    };
                                    this._top = this.nowTop + this.delta.Y;
                                    this.pull();
                                }
                            },
                            runScroll: function (e) {
                            },
                            wheelScroll: function (e) {
                                var isFromScroll = false, direct, thisScroll, o;
                                e = e || window.event;
                                o = e.target || e.srcElement;
                                while (o.tagName.toUpperCase() !== 'BODY') {
                                    thisScroll = o.getAttribute('data-scroll');
                                    if (thisScroll) {
                                        isFromScroll = true;
                                        break;
                                    }
                                    else {
                                        o = o.parentNode;
                                    }
                                }
                                if (!isFromScroll)
                                    return;
                                if (e.preventDefault) {
                                    e.preventDefault();
                                }
                                else {
                                    e.returnValue = false;
                                }
                                direct = -e.wheelDelta || e.detail;
                                direct = direct < 0 ? -1 : 1;
                                this.wheelMove(direct);
                            },
                            wheelMove: function (dir) {
                                this._top = this.nowTop + (this.h / this.options.length / 2) * dir;
                                this.pull();
                                this.nowTop = this._top;
                            },
                            skMouseDown: function (e) {
                                this.isValidDrag = true;
                                document.body.onmousemove = this.goScroll;
                                this.addClass(this.sb, 'scroll-scrolling');
                                this.removeClass(this.$el.querySelector(".scroll-list"), "moved");
                                e = e || window.event;
                                this.start = {
                                    X: e.clientX,
                                    Y: e.clientY,
                                    time: +new Date
                                };
                                this.delta = {};
                            },
                            bgMouseDown: function (e) {
                                e = e || window.event;
                                //if ((e.target || e.srcElement) === sk) return
                                this._top = e.offsetY < this.nowTop ? this.nowTop - (this.step * .7) >> 0
                                    : this.nowTop + (this.step * .7) >> 0;
                                this.pull();
                                this.nowTop = this._top;
                            },
                            addClass: function (o, cls) {
                                var oN = o.className;
                                if (oN.indexOf(cls) === -1) {
                                    o.className = oN + ' ' + cls;
                                }
                            },
                            removeClass: function (o, cls) {
                                var oN = o.className, arrName, arrNow;
                                if (oN.indexOf(cls) === -1)
                                    return;
                                arrName = oN.split(' ');
                                arrNow = arrName.length;
                                while (arrNow--) {
                                    if (arrName[arrNow] === cls) {
                                        arrName.splice(arrNow, 1);
                                    }
                                }
                                o.className = arrName.join(' ');
                            },
                            restart: function () {
                                this.isValidDrag = false;
                                this.removeClass(this.sb, 'scroll-scrolling');
                                this.addClass(this.$el.querySelector(".scroll-list"), 'moved');
                                if (!this.delta.Y)
                                    return;
                                this.nowTop = this._top;
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            var self = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return select;
            })(ap.core.ui);
            widget.select = select;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: 轮播图组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var shuffling = (function (_super) {
                __extends(shuffling, _super);
                /*构造函数*/
                function shuffling(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(shuffling.prototype, "options", {
                    /*图片src设置*/
                    get: function () {
                        return this._control["toptions"];
                    },
                    set: function (value) {
                        this._control["toptions"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(shuffling.prototype, "width", {
                    /*图片宽度设置*/
                    get: function () {
                        return this._control["width"];
                    },
                    set: function (value) {
                        this._control["width"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(shuffling.prototype, "isClickShow", {
                    /*左右点击显示*/
                    get: function () {
                        return this._control["isClickShow"];
                    },
                    set: function (value) {
                        this._control["isClickShow"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                /*初始化组件*/
                shuffling.prototype.init = function () {
                    var self = this;
                    Vue.component("ap-shuffling", {
                        template: new ap.utility.ajax.ajaxPackage().ajax_getcontent("../../ap_ui/widget/shuffling/views/template.html"),
                        props: {
                            mountedcallback: {
                                type: Function
                            }
                        },
                        data: function () {
                            return {
                                toptions: [],
                                options: [],
                                nowindex: 0,
                                speedNum: 16,
                                attrJson: {
                                    left: -500
                                },
                                moveEle: "",
                                moveEleChildren: "",
                                minEle: "",
                                autoPlayTime: 3000,
                                oPre: "",
                                oNext: "",
                                iTimer: "",
                                width: 250,
                                isClickShow: true,
                                init: false
                            };
                        },
                        watch: {
                            toptions: function () {
                                //将第一张图插入到数组最后实现轮播效果
                                this.options = [];
                                if (this.toptions.length > 1) {
                                    for (var i = 0; i < this.toptions.length; i++) {
                                        this.options.push(this.toptions[i]);
                                    }
                                    this.options.push(this.toptions[0]);
                                }
                                else {
                                    this.options = this.toptions;
                                }
                                this.width = this.$el.offsetWidth;
                                clearInterval(this.iTimer);
                                this.nowindex = 0;
                            }
                        },
                        updated: function (e) {
                            this.moveEle = this.$el.querySelector('.oUlplay');
                            this.moveEleChildren = this.moveEle.querySelectorAll('li');
                            this.minEle = this.$el.getElementsByClassName('samllTitle')[0].getElementsByTagName('li');
                            if (this.minEle.length > 0) {
                                this.minEle[0].className = "thisTitle";
                            }
                            this.moveEle.style.left = "0px";
                            var temp = this;
                            this.iTimer = setInterval(function () { temp.autoPlay(temp.moveEle, temp.autoPlayTime); }, temp.autoPlayTime);
                        },
                        methods: {
                            startMove: function (moveEle, attrJson, speedNum) {
                                var temp = this;
                                var isStop = true;
                                clearInterval(moveEle.timer);
                                moveEle.timer = setInterval(function () {
                                    for (var attr in attrJson) {
                                        //获取到目的地的值
                                        var offset = attrJson[attr]; //-500
                                        //计算当前的位置
                                        var curAttr = temp.getStyle(moveEle, attr); //0
                                        //计算速度
                                        var speed = (offset - curAttr) / speedNum;
                                        speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);
                                        if (offset != curAttr) {
                                            isStop = false;
                                        }
                                        else if (temp.nowindex == temp.options.length - 1) {
                                            temp.moveEle.style[attr] = "0px";
                                            temp.nowindex = 0;
                                            clearInterval(moveEle.timer);
                                            return;
                                        }
                                        if (attr == 'opacity') {
                                            moveEle.style.filter = 'alpha(opacity:' + (curAttr + speed) + ')';
                                            moveEle.style.opacity = (curAttr + speed) / 100;
                                        }
                                        else {
                                            moveEle.style[attr] = curAttr + speed + 'px';
                                        }
                                        //当所有值到达目的地时设置为 true
                                        if (isStop) {
                                            clearInterval(moveEle.timer);
                                        }
                                    }
                                }, 10);
                            },
                            getStyle: function (moveEle, name) {
                                var result = null;
                                result = moveEle.currentStyle ? moveEle.currentStyle[name] : getComputedStyle(moveEle, false)[name];
                                if (name == "opacity") {
                                    return parseInt(parseFloat(result) * 100);
                                }
                                return parseInt(result);
                            },
                            minEleMove: function (minEle) {
                                for (var i = 0; i < minEle.length; i++) {
                                    minEle[i].className = '';
                                }
                                var index = this.nowindex;
                                if (index == minEle.length) {
                                    index = 0;
                                }
                                minEle[index].className = 'thisTitle';
                            },
                            minEleClickMove: function (index) {
                                this.nowindex = index;
                                var moveEle = this.$el.querySelectorAll(".samllTitle li")[index];
                                this.startMove(this.moveEle, this.getNewAttrJson(), this.speedNum);
                                this.minEleMove(this.minEle);
                            },
                            autoPlay: function (moveEle, autoPlayTime) {
                                var temp = this;
                                setTimeout(function () {
                                    if (temp.nowindex >= temp.moveEleChildren.length - 1) {
                                        temp.nowindex = 0;
                                    }
                                    else {
                                        temp.nowindex++;
                                    }
                                    temp.startMove(moveEle, temp.getNewAttrJson(), temp.speedNum);
                                    temp.minEleMove(temp.minEle);
                                }, autoPlayTime);
                            },
                            getNewAttrJson: function () {
                                var temp = this;
                                var position = -1 * this.width * (this.nowindex);
                                return {
                                    left: position
                                };
                            },
                            preClick: function () {
                                if (this.nowindex > 0) {
                                    this.nowindex--;
                                    this.startMove(this.moveEle, this.getNewAttrJson(), this.speedNum);
                                    this.minEleMove(this.minEle);
                                }
                                else {
                                    this.nowindex = this.moveEleChildren.length - 2;
                                    this.startMove(this.moveEle, this.getNewAttrJson(), this.speedNum);
                                    this.minEleMove(this.minEle);
                                }
                            },
                            nextClick: function () {
                                if (this.nowindex < this.moveEleChildren.length - 2) {
                                    this.nowindex++;
                                    this.startMove(this.moveEle, this.getNewAttrJson(), this.speedNum);
                                    this.minEleMove(this.minEle);
                                }
                                else {
                                    this.nowindex = 0;
                                    this.startMove(this.moveEle, this.getNewAttrJson(), this.speedNum);
                                    this.minEleMove(this.minEle);
                                }
                            },
                            allEvent: function () {
                                var temp = this;
                                this.oPre.addEventListener('click', function (e) {
                                    if (temp.nowindex > 0) {
                                        temp.nowindex--;
                                        temp.startMove(temp.moveEle, temp.getNewAttrJson(), temp.speedNum);
                                        temp.minEleMove(temp.minEle);
                                    }
                                    else {
                                        temp.nowindex = temp.moveEleChildren.length - 1;
                                        temp.startMove(temp.moveEle, temp.getNewAttrJson(), temp.speedNum);
                                        temp.minEleMove(temp.minEle);
                                    }
                                }, false);
                                this.oNext.addEventListener('click', function (e) {
                                    if (temp.nowindex < temp.moveEleChildren.length - 1) {
                                        temp.nowindex++;
                                        temp.startMove(temp.moveEle, temp.getNewAttrJson(), temp.speedNum);
                                        temp.minEleMove(temp.minEle);
                                    }
                                    else {
                                        temp.nowindex = 0;
                                        temp.startMove(temp.moveEle, temp.getNewAttrJson(), temp.speedNum);
                                        temp.minEleMove(temp.minEle);
                                    }
                                }, false);
                                this.oPre.onmouseover = this.oNext.onmouseover = this.moveEle.onmouseover = function (e) {
                                    clearInterval(this.iTimer);
                                };
                                this.oPre.onmouseout = this.oNext.onmouseout = this.moveEle.onmouseout = function (e) {
                                    this.iTimer = setInterval(function () { temp.autoPlay(temp.moveEle, temp.autoPlayTime); }, temp.autoPlayTime);
                                };
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                            if (this.mountedcallback) {
                                this.mountedcallback();
                            }
                            this.oPre = this.$el.getElementsByClassName('pre')[0];
                            this.oNext = this.$el.getElementsByClassName('next')[0];
                            this.moveEle = this.$el.querySelector('.oUlplay');
                            this.moveEleChildren = this.moveEle.querySelectorAll('li');
                            this.minEle = this.$el.getElementsByClassName('samllTitle')[0].getElementsByTagName('li');
                            this.width = this.$el.offsetWidth;
                        }
                    });
                };
                return shuffling;
            })(ap.core.ui);
            widget.shuffling = shuffling;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: 滑动条组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            //slider滑动块
            var slider = (function (_super) {
                __extends(slider, _super);
                function slider(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(slider.prototype, "values", {
                    //values
                    get: function () {
                        return this._control["values"];
                    },
                    set: function (value) {
                        this._control["values"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(slider.prototype, "options", {
                    //选项
                    get: function () {
                        return this._control["options"];
                    },
                    set: function (value) {
                        this._control["options"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                slider.prototype.init = function () {
                    Vue.component("ap-slider", {
                        template: '<div>' +
                            '<div class="vue-slider-outer"  @mouseup="mouseUp"  @mousemove="mouseMove" @mouseleave="mouseLeave">' +
                            '<div class="vue-slider-inner" :style="{width:width,height:height}">' +
                            '<div class="vue-slider-progress" :style="slider"></div>' +
                            '<div><div :style="lstyle" @mousedown="mouseDown(1)" dragable="false"><div style="margin-top:-13px">{{computedScore(Math.round( this.scoreL))}}</div></div>' +
                            '<div :style="mstyle" @mousedown="mouseDown(2)" dragable="false"><div style="margin-top:-13px">{{computedScore(Math.round(this.scoreM - this.scoreL))}}</div></div></div>' +
                            '<div :style="hstyle" @mousedown="mouseDown(3)" dragable="false"><div style="margin-top:-13px">{{computedScore(Math.round(this.scoreH - this.scoreM))}}</div></div></div>' +
                            '</div>' +
                            '</div>',
                        props: ["width", "height", "upperlimit", "lowerlimit"],
                        watch: {
                            options: function () {
                                this.scoreL = this.options.scoreL;
                                this.scoreM = this.options.scoreM;
                                this.scoreH = this.options.scoreH;
                                this.value = this.scoreL + "," + this.scoreM + "," + this.scoreH;
                            }
                        },
                        computed: {
                            slider: {
                                get: function () {
                                    if (!this.options) {
                                        return "width:" + (this.upperlimit - this.lowerlimit) + "%;margin-left:" + this.lowerlimit + "%";
                                    }
                                    else {
                                        return "width:" + (this.options.total) / this.options.total * 100 + "%;margin-left:0%";
                                    }
                                },
                                set: function () {
                                }
                            },
                            lstyle: {
                                get: function () {
                                    if (this.scoreL == undefined)
                                        return "display:none;";
                                    else
                                        return "width:20px;height:20px;background-color: blue;line-height:50px;cursor:pointer;margin-left:" + this.scoreL / this.options.total * 100 + "%";
                                }, set: function () { }
                            },
                            mstyle: {
                                get: function () {
                                    if (this.scoreM == undefined)
                                        return "display:none;";
                                    else
                                        return "width:20px;height:20px;background-color: blue;line-height:50px;cursor:pointer;margin-top:-20px;margin-left:" + this.scoreM / this.options.total * 100 + "%";
                                },
                                set: function () { }
                            },
                            hstyle: {
                                get: function () {
                                    if (this.scoreH == undefined)
                                        return "display:none;";
                                    else
                                        return "width:20px;height:20px;background-color: blue;line-height:50px;cursor:pointer;margin-top:-20px;margin-left:" + this.scoreH / this.options.total * 100 + "%";
                                },
                                set: function () { }
                            }
                        },
                        data: function () {
                            return {
                                scoreL: 0,
                                selected: 0,
                                scoreM: 0,
                                scoreH: 0,
                                clickOrDrag: 0,
                                currentX: 0,
                                options: {},
                                value: ""
                            };
                        },
                        methods: {
                            mouseClick: function (val) {
                                if (this.clickOrDrag == 0)
                                    return;
                                //获取div的margin-left以及宽度
                                var outerdiv = document.querySelector('.vue-slider-outer');
                                var style = window.getComputedStyle ? window.getComputedStyle(outerdiv, "") : outerdiv.currentStyle;
                                var margin_left = parseFloat(style["margin-left"].replace("px", ""));
                                var width = parseFloat(this.width.replace("px", ""));
                                //获取分数区间
                                if (!this.options.total) {
                                    console.log("methods=>options.total is required");
                                }
                                var intervalwidth = this.options.interval ? width / (this.options.total) * this.options.interval : width / (this.options.total);
                                //计算分数
                                var clickposition = val.screenX - margin_left;
                                var positionFloat = parseFloat(clickposition / width) * 100;
                                var total = parseFloat(this.options.total);
                                //计算相对位置
                                var score = this.options.interval ? Math.round(clickposition / intervalwidth) * this.options.interval : clickposition / intervalwidth;
                                if (Math.abs(this.scoreL / total * 100 - positionFloat) < Math.abs(this.scoreH / total * 100 - positionFloat)) {
                                    //this.scoreL = this.options.interval ? Math.round(positionFloat / this.options.interval) * this.options.interval : positionFloat;
                                    this.scoreL = score;
                                }
                                else {
                                    //this.scoreH = this.options.interval ? Math.round(positionFloat / this.options.interval) * this.options.interval : positionFloat;
                                    this.scoreH = score;
                                }
                                this.$emit("input", this.scoreL + "," + this.scoreM + "," + this.scoreH);
                            },
                            mouseDown: function (val) {
                                this.selected = val;
                                this.currentX = val.screenX;
                            },
                            mouseMove: function (val) {
                                if (this.selected == 0 || this.clickOrDrag == 1)
                                    return;
                                var outerdiv = document.querySelector('.vue-slider-outer');
                                var style = window.getComputedStyle ? window.getComputedStyle(outerdiv, "") : outerdiv.currentStyle;
                                //var margin_left = parseFloat(style["margin-left"].replace("px", ""));
                                var margin_left = document.querySelector('.vue-slider-inner').getBoundingClientRect().width;
                                var width = parseFloat(this.width.replace("px", ""));
                                var intervalwidth = this.options.interval ? width / (this.options.total) * this.options.interval : width / (this.options.total);
                                var clickposition = val.screenX - margin_left;
                                var positionFloat = parseFloat(clickposition / width) * 100;
                                var score = clickposition / intervalwidth * this.options.interval;
                                if (this.selected == 1) {
                                    var af_score = this.scoreM == undefined ? this.options.total : this.scoreM;
                                    this.scoreL = score > af_score ? af_score : (score < 0 ? 0 : score);
                                }
                                else if (this.selected == 2) {
                                    var af_score = this.scoreH == undefined ? this.options.total : this.scoreH;
                                    this.scoreM = score > af_score ? af_score : (score < this.scoreL ? this.scoreL : score);
                                }
                                else if (this.selected == 3) {
                                    this.scoreH = score > this.options.total ? this.options.total : (score < this.scoreM ? this.scoreM : score);
                                }
                            },
                            mouseUp: function (val) {
                                if (this.selected == 0 || this.clickOrDrag == 1)
                                    return;
                                if (this.selected == 1) {
                                    this.scoreL = Math.round(this.scoreL / this.options.interval) * this.options.interval;
                                }
                                else if (this.selected == 2) {
                                    this.scoreM = Math.round(this.scoreM / this.options.interval) * this.options.interval;
                                }
                                else if (this.selected == 3) {
                                    this.scoreH = Math.round(this.scoreH / this.options.interval) * this.options.interval;
                                }
                                this.selected = 0;
                                this.value = this.scoreL + "," + this.scoreM + "," + this.scoreH;
                                console.log(this.value);
                            },
                            mouseLeave: function (val) {
                                if (this.selected == 0 || this.clickOrDrag == 1)
                                    return;
                                if (this.selected == 1) {
                                    this.scoreL = Math.round(this.scoreL / this.options.interval) * this.options.interval;
                                }
                                else if (this.selected == 2) {
                                    this.scoreM = Math.round(this.scoreM / this.options.interval) * this.options.interval;
                                }
                                else if (this.selected == 3) {
                                    this.scoreH = Math.round(this.scoreH / this.options.interval) * this.options.interval;
                                }
                                this.selected = 0;
                                this.value = this.scoreL + "," + this.scoreM + "," + this.scoreH;
                            },
                            computedScore: function (score) {
                                if (score < 60 && score >= 0) {
                                    return score + '分钟';
                                }
                                else if (score >= 60) {
                                    return (Math.floor(score / 60) + "小时" + (score % 60) + "分钟");
                                }
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return slider;
            })(ap.core.ui);
            widget.slider = slider;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: 开关组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var switchbutton = (function (_super) {
                __extends(switchbutton, _super);
                function switchbutton(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(switchbutton.prototype, "value", {
                    get: function () {
                        return this._control["value"];
                    },
                    set: function (value) {
                        this._control["value"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(switchbutton.prototype, "options", {
                    get: function () {
                        return this._control["options"];
                    },
                    set: function (value) {
                        this._control["options"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                switchbutton.prototype.init = function () {
                    Vue.component("ap-switch", {
                        template: '<div class="allpass-switch-outer">' +
                            '<div v-for="(item,index) in options" v-on:click="divClick(index)"><input type="radio" class="allpass-switch allpass-switch-animbg" :checked="item.checked"/><label>{{item.value}}</label></div>' +
                            '</div>',
                        data: function () {
                            return {
                                value: "",
                                options: ""
                            };
                        },
                        methods: {
                            divClick: function (index) {
                                this.options[index].checked = !(this.options[index].checked);
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return switchbutton;
            })(ap.core.ui);
            widget.switchbutton = switchbutton;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: 表格组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            //表格
            var table = (function (_super) {
                __extends(table, _super);
                function table(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(table.prototype, "columns", {
                    //table列
                    get: function () {
                        return this._control["columns"];
                    },
                    set: function (value) {
                        this._control["columns"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(table.prototype, "checkbox", {
                    //checkbox样式
                    get: function () {
                        return this._control["checkbox"];
                    },
                    set: function (value) {
                        this._control["checkbox"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(table.prototype, "tabledata", {
                    //列表数据
                    get: function () {
                        return this._control["tabledata"];
                    },
                    set: function (value) {
                        this._control["tabledata"] = value;
                        table.i += 1;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(table.prototype, "key", {
                    //主键
                    get: function () {
                        return this._control["key"];
                    },
                    set: function (value) {
                        this._control["key"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(table.prototype, "disabled", {
                    //置灰选项
                    get: function () {
                        return this._control["disabled"];
                    },
                    set: function (value) {
                        this._control["disabled"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(table.prototype, "values", {
                    //checkbox点中以后的根据key获取的返回值
                    get: function () {
                        return this._control["values"];
                    },
                    set: function (value) {
                        this._control["values"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(table.prototype, "indexes", {
                    //checkbox点中以后的index
                    get: function () {
                        return this._control["indexes"];
                    },
                    set: function (value) {
                        this._control["indexes"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(table.prototype, "checkboxClick", {
                    //checkbox点击
                    get: function () {
                        return this._control["checkboxclick"];
                    },
                    set: function (value) {
                        this._control["checkboxclick"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(table.prototype, "operateClick", {
                    //操作列点击
                    get: function () {
                        return this._control["operateclick"];
                    },
                    set: function (value) {
                        this._control["operateclick"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(table.prototype, "showAllSelected", {
                    //全选按钮显示
                    get: function () {
                        return this._control["showallselected"];
                    },
                    set: function (value) {
                        this._control["showallselected"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                table.prototype.init = function () {
                    Vue.component("ap-table", {
                        template: new ap.utility.ajax.ajaxPackage().ajax_getcontent("../../ap_ui/widget/table/views/table_template.html"),
                        data: function () {
                            return {
                                init: true,
                                columns: [],
                                checkbox: {},
                                tabledata: [],
                                checked: [],
                                allchecked: false,
                                key: "",
                                values: [],
                                indexes: [],
                                disabled: [],
                                showallselected: true
                            };
                        },
                        updated: function () {
                            //用计数器来区分开始的没有数据和表格后面的没有数据
                            if (table.i > 0) {
                                this.init = false;
                            }
                        },
                        watch: {
                            tabledata: function () {
                                var self = this;
                                self.checked = [];
                                self.values = [];
                                if (!self.init) {
                                    self.indexes = [];
                                }
                                this.tabledata.forEach(function (val, index, arr) {
                                    if (self.indexes.indexOf(index) > -1) {
                                        self.checked.push({ "checked": true });
                                        self.values.push(self.tabledata[index][self.key]);
                                    }
                                    else {
                                        self.checked.push({ "checked": false });
                                    }
                                });
                                self.allchecked = false;
                                if (self.disabled.length <= 0) {
                                    this.tabledata.forEach(function (val, index, arr) {
                                        self.disabled.push({ "disabled": false });
                                    });
                                }
                            }
                        },
                        methods: {
                            operateclick: function (index, event) {
                                alert(index + ":::" + event);
                            },
                            checkboxclick: function (index, value, event) {
                                //如果置灰就返回
                                if (this.disabled[index] && this.disabled[index].disabled)
                                    return;
                                var self = this;
                                var count = 0;
                                var abledcount = 0;
                                self.values = [];
                                self.indexes = [];
                                this.checked[index].checked = !this.checked[index].checked;
                                this.checked.forEach(function (val, index, arr) {
                                    if (!val.checked) {
                                        self.allchecked = false;
                                    }
                                    else {
                                        count++;
                                        self.values.push(self.tabledata[index][self.key]);
                                        self.indexes.push(index);
                                    }
                                });
                                console.log(this.values);
                                this.disabled.forEach(function (val, index, arr) {
                                    if (!self.disabled[index].disabled)
                                        abledcount++;
                                });
                                //全选判断
                                if (count == abledcount) {
                                    this.allchecked = true;
                                }
                            },
                            selectallclick: function (event) {
                                var self = this;
                                this.values = [];
                                this.indexes = [];
                                if (this.allchecked) {
                                    this.checked.forEach(function (val, index, arr) {
                                        if (!self.disabled[index].disabled) {
                                            self.checked[index].checked = false;
                                        }
                                    });
                                    this.allchecked = false;
                                }
                                else {
                                    this.checked.forEach(function (val, index, arr) {
                                        if (!self.disabled[index].disabled) {
                                            self.checked[index].checked = true;
                                            self.values.push(self.tabledata[index][self.key]);
                                            self.indexes.push(index);
                                        }
                                    });
                                    this.allchecked = true;
                                }
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                table.i = 0;
                return table;
            })(ap.core.ui);
            widget.table = table;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: textarea组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var textarea = (function (_super) {
                __extends(textarea, _super);
                /*构造函数*/
                function textarea(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(textarea.prototype, "value", {
                    /*value值设置*/
                    get: function () {
                        return this._control["value"];
                    },
                    set: function (value) {
                        this._control["value"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                /*初始化*/
                textarea.prototype.init = function () {
                    Vue.component("ap-textarea", {
                        template: '<textarea :cols="cols" :rows="rows" :style="style" v-model="value" :class="classname" v-on:input="onInput" :data-check="validate" :data-checkmsg="checkmsg" :maxlength="maxlength"></textarea>',
                        props: {
                            cols: String,
                            rows: String,
                            style: String,
                            classname: String,
                            validate: [String, Object],
                            checkmsg: [String, Object],
                            maxlength: String,
                            changefn: Function
                        },
                        data: function () {
                            return {
                                value: ""
                            };
                        },
                        watch: {
                            value: function (val) {
                                var self = this;
                                if (!val)
                                    return;
                                setTimeout(function () {
                                    self.blur();
                                }, 10);
                            }
                        },
                        methods: {
                            onInput: function (event) {
                                if (this.changefn) {
                                    this.changefn();
                                }
                                this.$emit('input', event.target.value);
                                //this.value = event.target.value;
                            },
                            blur: function () {
                                if (!this.validate)
                                    return;
                                var dom = this.$el;
                                if (dom.getAttribute("data-blur") == "false")
                                    return false;
                                var isError = ap.ui.widget.Validate.validInput(dom);
                                return isError;
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return textarea;
            })(ap.core.ui);
            widget.textarea = textarea;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

/*****************************************************************
** Copyright (c) 南京奥派(AllPass)信息产业股份公司研发部
** 创建人:    wangcong
** 创建日期:  2015/9/1 10:55:06
** 描 述:     验证组件 v2.0
** 修改人:    wangcong
** 修改日期:  2016/03/07 18:13
** 修改说明:  修改组件,新增2.0
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var Validate = (function () {
                function Validate() {
                }
                /*弹出提醒函数*/
                Validate.TipError = function (dom, msg, result, guide) {
                    var self = this;
                    //判断隐藏域
                    if ($(dom) && $(dom).attr("type") == "hidden") {
                        var target = $(dom).attr("target");
                        dom = $("#" + target);
                    }
                    var layId = $(dom).attr("layId");
                    var layMsg = $(dom).attr("layMsg");
                    var direction = $(dom).attr("laydire") || 0;
                    guide = guide || 1;
                    if (result == false) {
                        if (!layId) {
                            self.CreateTips(msg, dom, guide, direction);
                        }
                        else if (layMsg != msg) {
                            self.CreateTips(msg, dom, guide, direction);
                            if (layMsg && layMsg != msg) {
                                self.RemoveLayTips(layId);
                            }
                        }
                    }
                    else {
                        $(dom).attr("layId", "");
                        $(dom).attr("layMsg", "");
                        self.RemoveLayTips(layId);
                    }
                };
                /*弹出提醒函数*/
                Validate.TipErrorExtend = function (dom, msg, result) {
                    this.TipError(dom, msg, result, 2);
                };
                Validate.CreateTips = function (msg, dom, guide, direction) {
                    var index;
                    if (direction > 0)
                        index = layer.tips(msg, dom, { guide: guide, time: 0, tipsMore: true, tips: direction });
                    else {
                        index = layer.tips(msg, dom, { guide: guide, time: 0, tipsMore: true });
                    }
                    $(dom).attr("layId", "layui-layer" + index);
                    $(dom).attr("layMsg", msg);
                };
                //删除Layer.Tips层
                Validate.RemoveLayTips = function (layId) {
                    if (layId && $("#" + layId).length > 0) {
                        $("#" + layId).remove();
                    }
                };
                //删除所有layer标签
                Validate.RemoveAllTips = function () {
                    var tips = document.querySelectorAll(".layui-layer-tips");
                    for (var i = 0; i < tips.length; i++) {
                        var domid = tips[i].id;
                        var dom = document.querySelector("*[layid='" + domid + "']");
                        dom.setAttribute("layid", "");
                        dom.setAttribute("layMsg", "");
                        tips[i].parentNode.removeChild(tips[i]);
                    }
                };
                /*获取默认的验证消息*/
                Validate.getCheckMsg = function (dom, defaultMsg, type) {
                    var self = this;
                    var msg = dom.attr(self.DATACHECKMSG);
                    var value = dom.val();
                    var returnMsg = defaultMsg;
                    if (msg) {
                        var convertObj = self.GetCheckObject(msg);
                        if (convertObj && type) {
                            if (typeof (convertObj) == "object") {
                                for (var propertyName in convertObj) {
                                    if (propertyName == type) {
                                        var checkmsg = convertObj[propertyName];
                                        if (checkmsg && typeof (checkmsg) == "function") {
                                            returnMsg = checkmsg(value);
                                        }
                                        else {
                                            returnMsg = checkmsg;
                                        }
                                        return returnMsg; //直接返回不继续执行
                                    }
                                }
                            }
                            else if (typeof (convertObj) == "string") {
                                returnMsg = convertObj;
                            }
                        }
                    }
                    return returnMsg;
                };
                /*本地验证，返回true(验证通过)，false（验证不通过）*/
                Validate.validReg = function (reg, value) {
                    return reg.test(value);
                };
                /*
                * v1.0添加，
                * v2.0修改，同时兼容v1.0,
                * 验证单个控件*/
                Validate.validInput = function (input) {
                    var self = this;
                    var dom = $(input);
                    var type = dom.attr("data-check");
                    var msg = null;
                    var value = dom.val();
                    var result = true;
                    var validateObj = null;
                    if (type == "required") {
                        validateObj = this.ValidateRules[type];
                        result = validateObj.validate(value);
                        msg = self.getCheckMsg(dom, validateObj.defaultMsg, type);
                    }
                    else {
                        //获取验证类型
                        var chkObj = self.GetCheckObject(type);
                        if (!chkObj)
                            return false; //如果出错，直接返回
                        //v2.0版本的精简验证
                        for (var propertyName in chkObj) {
                            var propertyValue = chkObj[propertyName];
                            //兼容v1.0处理
                            if (propertyName == "type") {
                                propertyName = propertyValue;
                                propertyValue = true;
                            }
                            //分类型处理
                            validateObj = this.ValidateRules[propertyName];
                            if (!validateObj) {
                                console.error("没有找到指定类型的验证规则[" + propertyValue + "]");
                                return false;
                            }
                            //bool类型，修复1==true
                            if (propertyValue && (typeof (propertyValue) == "boolean" && propertyValue == true || propertyValue == 'true')) {
                                if (propertyName != "required" && value == '')
                                    result = true; //如果内容为空并且验证其他类型进行跳过处理
                                else {
                                    result = validateObj.validate(value);
                                    msg = self.getCheckMsg(dom, validateObj.defaultMsg, propertyName);
                                }
                            }
                            else if ((propertyValue || propertyValue == 0) && typeof (propertyValue) == "number") {
                                result = validateObj.validate(value, propertyValue);
                                msg = self.getCheckMsg(dom, validateObj.defaultMsg(propertyValue), propertyName);
                            }
                            //如果验证不通过，结束这次循环
                            if (result == false)
                                break;
                        }
                    }
                    //提示消息
                    if (result == false) {
                        //特殊的控件类型处理
                        if (dom.attr("type") == "hidden")
                            dom = $("#" + dom.attr("target"));
                    }
                    self.TipError(dom, msg, result);
                    return result;
                };
                /*
                * v2.0进行重构
                */
                Validate.GetCheckObject = function (attr) {
                    var chkObj = {};
                    //v2.0版本，省去{},程序自动处理
                    if (attr.indexOf(":") > 0) {
                        if (attr.indexOf("{") == -1 && attr.indexOf("}") == -1)
                            attr = "{" + attr + "}";
                        //报错直接返回
                        try {
                            eval("chkObj = " + attr);
                        }
                        catch (e) {
                            console.error("获取validate组件验证内容出错：" + e);
                            return false;
                        }
                        //将类型转小写
                        if (chkObj && chkObj.type) {
                            chkObj.type = chkObj.type.toLowerCase();
                        }
                    }
                    else {
                        chkObj = "" + attr;
                    }
                    return chkObj;
                };
                /*
               * v1.0版本添加，
               * v2.0版本修改，兼容v1.0版本
               * 验证表单*/
                Validate.validDom = function (dom, extendValidFun, validFunExcuteNo) {
                    var self = this;
                    var from = $(dom);
                    var validResult = true;
                    var tagType = dom[0].tagName; //获取元素类型
                    var isValidateAll = from.attr("data-checkall") || true; //是否验证全部控件
                    var inputarr;
                    if (tagType && tagType.toLowerCase() != "input") {
                        inputarr = $("input[data-check],textarea[data-check]", from);
                    }
                    else {
                        inputarr = from;
                    }
                    var onefirstInput = null;
                    inputarr.each(function (i, d) {
                        var input = $(this);
                        if (extendValidFun && typeof (extendValidFun) == "function") {
                            //v2.0版本，直接传递序号
                            validResult = self.GetResult(validResult, extendValidFun(i));
                            //无返回值赋值为true
                            if (validResult == null)
                                validResult = true;
                        }
                        //验证通过，才继续验证
                        if (isValidateAll || (!isValidateAll && validResult == true))
                            validResult = self.GetResult(validResult, self.validInput(input));
                        //赋值第一个验证不通过的控件
                        if (!onefirstInput)
                            onefirstInput = input;
                        //判断是否验证全部控件
                        if (!isValidateAll)
                            return validResult; //出现错误，直接return不继续执行
                    });
                    if (isValidateAll || (!isValidateAll && validResult == true)) {
                        if (extendValidFun && typeof (extendValidFun) == "function") {
                            validResult = self.GetResult(validResult, extendValidFun(-1)); //最后执行
                        }
                    }
                    if (onefirstInput) {
                        //跳转至第一个
                        $('html, body').animate({ scrollTop: $(onefirstInput).offset().top - 60 }, 500);
                        onefirstInput = null;
                    }
                    return validResult;
                };
                /*
                * 获取验证结果
                */
                Validate.GetResult = function (validResult, result) {
                    return validResult == true ? result : false;
                };
                /*
                * v1.0版本添加，
                * v2.0版本已废弃，集成与validate中
                * 包含编辑器的验证*/
                Validate.validDomIncludeEditor = function (dom, editor, validNo) {
                    var self = this;
                    //扩展编辑器验证
                    var extendValid = function (index) {
                        if (index == validNo) {
                            var value = editor.text();
                            value = value.replace(/\s+/g, "");
                            var result = value != "";
                            self.TipErrorExtend($("div[class='ke-container ke-container-default']"), "请输入内容", result);
                            return result;
                        }
                        return true;
                    };
                    return self.validDom(dom, extendValid);
                };
                /*
                * v2.0 添加，扩展编辑器验证
                */
                Validate.ShowEditorTipsError = function (editor, msg) {
                    var self = this;
                    var value = editor.text();
                    value = value.replace(/\s+/g, "");
                    var result = value != "";
                    self.TipErrorExtend($("div[class='ke-container ke-container-default']"), msg, result);
                    return result;
                };
                /*定义的验证字符串常量*/
                //static REQUIRED = "required";
                //static MAXLENGTH = "maxlength";
                //static MINLENGTH = "minlength";
                //static MINVALUE = "minvalue";
                //static MAXVALUE = "maxvalue";
                /*定义取值用常量*/
                Validate.DATACHECKMSG = "data-checkmsg";
                /*验证规则*/
                Validate.ValidateRules = {
                    'required': {
                        validate: function (value) {
                            return (!value || value.replace(/\s+/g, "") == "") ? false : true;
                        }, defaultMsg: '不能为空'
                    },
                    'email': { validate: function (value) { return Validate.validReg(/^([\.a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/, value); }, defaultMsg: '格式错误' },
                    'english': { validate: function (value) { return Validate.validReg(/^[A-Za-z0-9]+$/, value); }, defaultMsg: '格式错误' },
                    'phone': { validate: function (value) { return Validate.validReg(/^(1(([35][0-9])|(47)|[8][0-9]|[7][0-9]))\d{8}$/, value); }, defaultMsg: '格式错误' },
                    'number': { validate: function (value) { return Validate.validReg(/^[0-9]*$/, value); }, defaultMsg: '请输入数字' },
                    'pint': { validate: function (value) { return Validate.validReg(/^[1-9]*[1-9][0-9]*$/, value); }, defaultMsg: '请输入正整数' },
                    'double2p': { validate: function (value) { return Validate.validReg(/^\d+\.?\d{0,2}$/, value); }, defaultMsg: '只能输入两位小数' },
                    'cardno': { validate: function (value) { return Validate.validReg(/(^\d{15}$)|(^\d{17}([0-9]|X)$)/, value); }, defaultMsg: '格式错误' },
                    'chinese': { validate: function (value) { return Validate.validReg(/^[\u4e00-\u9fa5]+$/i, value); }, defaultMsg: '请输入汉字' },
                    'minlength': { validate: function (value, check) { return (value && value.length < check) ? false : true; }, defaultMsg: function (length) { return '至少输入长度为' + length + '的内容'; } },
                    'maxlength': { validate: function (value, check) { return (value && value.length > check) ? false : true; }, defaultMsg: function (length) { return '最多输入长度为' + length + '的内容'; } },
                    'minvalue': { validate: function (value, check) { return (value && parseFloat(value) < check) ? false : true; }, defaultMsg: function (value) { return '最小值为' + value; } },
                    'maxvalue': { validate: function (value, check) { return (value && parseFloat(value) > check) ? false : true; }, defaultMsg: function (value) { return '最大值为' + value; } },
                    'cn09en': { validate: function (value) { return Validate.validReg(/^[a-zA-Z0-9\u4e00-\u9fa5]+$/, value); }, defaultMsg: '只能输入汉字、数字、字母' },
                    'date': { validate: function (value) { return Validate.validReg(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/, value); }, defaultMsg: '请输入正确的日期' },
                    'datetime': { validate: function (value) { return Validate.validReg(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/, value); }, defaultMsg: '格式错误' },
                    'numletter': { validate: function (value) { return Validate.validReg(/^[A-Za-z0-9]+$/, value); }, defaultMsg: '只能输入数字、字母' },
                    'capitalletter': { validate: function (value) { return Validate.validReg(/^[A-Z]+$/, value); }, defaultMsg: '只能输入大写字母' },
                    'tax': { validate: function (value) { return Validate.validReg(/^((0\d{2,3})-)(\d{7,8})$/, value); }, defaultMsg: '格式错误' },
                };
                return Validate;
            })();
            widget.Validate = Validate;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));
//增加离开焦点验证
window.onload = function () {
    $("body").on("blur", "input[data-check],textarea[data-check]", function () {
        var dom = $(this);
        if (dom.hasClass("Wdate"))
            return false;
        if ($(dom).attr("data-blur") == "false")
            return false; //判断离开焦点
        var isError = ap.ui.widget.Validate.validInput(dom);
        return isError;
    });
};
//扩展Jquery函数
//兼容1.0版本
$.fn.apValidate = function (extendValidFun, validFunExcuteNo) {
    function customExtend(index) {
        if (index == validFunExcuteNo) {
            return extendValidFun();
        }
        else {
            return true;
        }
    }
    return ap.ui.widget.Validate.validDom(this, customExtend);
};
$.fn.apValidateEditor = function (editorObject, validFunExcuteNo) {
    return ap.ui.widget.Validate.validDomIncludeEditor(this, editorObject, validFunExcuteNo);
};
$.fn.apValidateInput = function () {
    return ap.ui.widget.Validate.validInput(this);
};
/*
2.0新增
*
*@obj1（可空） ：扩展验证函数 || 编辑器对象
*@num1（可空） ：扩展验证函数执行顺序 || 编辑器验证顺序
*@obj2（可空） ：扩展验证函数 || 编辑器对象
*@num2（可空） ：扩展验证函数执行顺序 || 编辑器验证顺序
*
*调用方式：1. $("#input").validate();                         //验证input控件，支持隐藏域，隐藏域需要设置target 属性
*          2. $("#div").validate();                           //验证容器，自动获取容器内部需要验证的控件
*          3. $("#div").validate(extendFunction);             //扩展函数验证，默认为-1，最后执行，0表示最先执行。传递下标参数
*          4. $("#div").validate(extendFunction,2);           //扩展函数验证，指定验证顺序
*          5. $("#div").validate(editor);                     //编辑器验证，默认为-1，最后执行，0表示最先执行
*          6. $("#div").validate(editor,2);                   //编辑器验证，指定验证顺序
*          7. $("#div").validate(editor,2,extendFunction);    //编辑器验证，指定验证顺序，添加扩展验证，扩展验证最后执行
*          8. $("#div").validate(editor,2,extendFunction,3);  //编辑器验证，指定验证顺序，添加扩展验证，指定验证顺序
*          9. $("#div").validate(extendFunction,2,editor);    //添加扩展验证，指定验证顺序，编辑器验证，编辑器验证最后执行
*         10. $("#div").validate(extendFunction,2,editor,3);  //添加扩展验证,，指定验证顺序，编辑器验证，指定验证顺序
*/
$.fn.validate = function (obj1, num1, obj2, num2) {
    var dom = $(this);
    var validateModule = ap.ui.widget.Validate;
    if (obj1 == num1 && num1 == obj2 && obj2 == num2 && num2 == undefined) {
        //当参数全部为空时，执行验证控件方法
        return validateModule.validDom(this);
    }
    else {
        //判断第一个参数为验证函数
        var extendFunction = null;
        var extendFunctionExcuteNumber = null;
        var editor = null;
        var editorValidateNumber = null;
        if (obj1 && typeof (obj1) == "function") {
            extendFunction = obj1;
            if (num1 > -2)
                extendFunctionExcuteNumber = num1;
            if (obj2 && typeof (obj2) == "object")
                editor = obj2;
            if (num2 > -2)
                editorValidateNumber = num2;
        }
        else {
            if (obj1 && typeof (obj1) == "object")
                editor = obj1;
            if (num1 > -2)
                editorValidateNumber = num1;
            if (obj2 && typeof (obj2) == "function")
                extendFunction = obj2;
            if (num2 > -2)
                extendFunctionExcuteNumber = num2;
        }
        //包装一层验证编辑器的函数
        var extendValid = function (index) {
            //先验证扩展验证函数
            if (extendFunction != null) {
                if (extendFunctionExcuteNumber == null)
                    return extendFunction(index);
                else {
                    if (index == extendFunctionExcuteNumber)
                        return extendFunction(index);
                }
            }
            //再验证编辑器
            if (editor != null) {
                if (editorValidateNumber == null)
                    editorValidateNumber = -1;
                if (index == editorValidateNumber) {
                    var inputDom = editor["srcElement"][0];
                    var msg = "请输入内容";
                    var isBlur = true;
                    if (inputDom && $(inputDom).length > 0) {
                        msg = $(inputDom).attr(validateModule.DATACHECKMSG) || msg;
                        isBlur = $(inputDom).attr("data-blur") || isBlur;
                        if (isBlur == true) {
                            editor.afterBlur = function () {
                                return validateModule.ShowEditorTipsError(editor, msg);
                            };
                        }
                    }
                    return validateModule.ShowEditorTipsError(editor, msg);
                    ;
                }
            }
            return true;
        };
        return validateModule.validDom(dom, extendValid);
    }
    return true;
};
/*
2.0新增，增加编辑器离开焦点
*/
$.extend({
    addEditorBlur: function (editor) {
        if (editor) {
            var inputDom = editor["srcElement"][0];
            var msg = "不能为空";
            var isBlur = true;
            var validateModule = ap.ui.widget.Validate;
            if (inputDom && $(inputDom).length > 0) {
                msg = $(inputDom).attr(validateModule.DATACHECKMSG) || msg;
                isBlur = $(inputDom).attr("data-blur") || isBlur;
                if (isBlur == true) {
                    editor.afterBlur = function () {
                        return validateModule.ShowEditorTipsError(editor, msg);
                    };
                }
            }
        }
    }
});

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: datepicker组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var scroll = (function (_super) {
                __extends(scroll, _super);
                function scroll(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(scroll.prototype, "scrollinit", {
                    //滚动条初始化
                    get: function () {
                        return this._control["scrollinit"];
                    },
                    set: function (value) {
                        this._control["scrollinit"] = !this._control["scrollinit"];
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(scroll.prototype, "heightfix", {
                    //高度设置
                    get: function () {
                        return this._control["heightfix"];
                    },
                    set: function (value) {
                        this._control["heightfix"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(scroll.prototype, "index", {
                    //滚动条标识设置
                    get: function () {
                        return "";
                    },
                    set: function (value) {
                        this._control["contain"] = "scrollList" + value;
                        this._control["wrap"] = "scrollListWrap" + value;
                        this._control["scrollBg"] = "scrollBg" + value;
                        this._control["scrollBlock"] = "scrollBlock" + value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(scroll.prototype, "scrollToBottom", {
                    //滚动条滚到底部
                    set: function (value) {
                        var self = this;
                        setTimeout(function () {
                            self._control["top"] = self._control["max"] + "px";
                            self._control["_top"] = self._control["max"];
                            self._control["nowTop"] = self._control["max"];
                            var style = document.getElementById(self._control["contain"]).style;
                            var diff = (self._control["_top"] / self._control["max"] * (self._control["h"] - self._control["H"])) >> 0;
                            if (!self._control["ishorizontal"]) {
                                style["top"] = diff + "px";
                            }
                            else {
                                style["left"] = diff + "px";
                            }
                        }, 10);
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(scroll.prototype, "scrollToTop", {
                    //滚动条滚到头部
                    set: function (value) {
                        var self = this;
                        setTimeout(function () {
                            self._control["top"] = 0 + "px";
                            self._control["_top"] = 0;
                            self._control["nowTop"] = 0;
                            var style = document.getElementById(self._control["contain"]).style;
                            if (!self._control["ishorizontal"]) {
                                style["top"] = "0px";
                            }
                            else {
                                style["left"] = "0px";
                            }
                        }, 10);
                    },
                    enumerable: true,
                    configurable: true
                });
                scroll.prototype.init = function () {
                    Vue.component('ap-scroll', {
                        template: '<div class="scroll-bg" id="scrollBg" style="display: block;">' +
                            '<div class="scroll-block"  id="scrollBlock" :style={top:top}></div>' +
                            '</div>',
                        data: function () {
                            return {
                                width: 1582,
                                height: 1400,
                                heightfix: 0,
                                scrollBarHeightDiff: 0,
                                factHeightDiff: 0,
                                cssCore: 'webkit',
                                isValidDrag: false,
                                top: "0px",
                                contain: "scrollList",
                                wrap: "scrollListWrap",
                                scrollBg: "scrollBg",
                                scrollBlock: "scrollBlock",
                                _top: 0,
                                max: 321,
                                nowTop: 0,
                                start: {},
                                delta: {},
                                _thisScroll: "",
                                scrollid: "",
                                _t: false,
                                sb: "",
                                sk: "",
                                step: 0,
                                scrollinit: false,
                                h: 0,
                                H: 0
                            };
                        },
                        props: {
                            ishorizontal: {
                                type: Boolean,
                                default: false
                            },
                            callback: {
                                type: Function
                            },
                            bottomcallback: {
                                type: Function
                            },
                            topcallback: {
                                type: Function
                            }
                        },
                        watch: {
                            scrollinit: function () {
                                var self = this;
                                var o = document.getElementById(self.wrap);
                                while (o.tagName.toUpperCase() !== 'BODY') {
                                    self._thisScroll = o.getAttribute('data-scroll');
                                    if (self._thisScroll) {
                                        self.scrollid = o.id;
                                        break;
                                    }
                                    else {
                                        o = o.parentNode;
                                    }
                                }
                                ;
                                if (!self.ishorizontal) {
                                    var H = document.getElementById(self.contain).offsetHeight;
                                    var fd = self.factHeightDiff;
                                    var fx = self.heightfix;
                                    //滚动条包裹高度用padding内部的height计算
                                    var height = parseFloat(document.defaultView.getComputedStyle(o.parentElement, null).height.split("px")[0]);
                                    var h = fx ? fx : height - fd;
                                    //var h = fx ? fx : o.parentElement.offsetHeight - fd;
                                    h = H - 1 < h ? H : h;
                                    var fh = self.scrollBarHeightDiff;
                                    var S = h - fh;
                                    var s = h / H * S;
                                    s = s > S ? S + 1 : s;
                                    document.getElementById(self.wrap).style.width = document.getElementById(self.contain).offsetWidth + 'px';
                                    document.getElementById(self.wrap).style.height = h + 'px';
                                    try {
                                        self.$el.style.height = S + 'px';
                                        self.$el.children[0].style.height = s + 'px';
                                    }
                                    catch (e) {
                                    }
                                }
                                else {
                                    var H = document.getElementById(self.contain).offsetWidth;
                                    var fd = self.factHeightDiff;
                                    var fx = self.heightfix;
                                    var height = parseFloat(document.defaultView.getComputedStyle(o.parentElement, null).width.split("px")[0]);
                                    var h = fx ? fx : height - fd;
                                    h = H - 1 < h ? H : h;
                                    var fh = self.scrollBarHeightDiff;
                                    var S = h - fh;
                                    var s = h / H * S;
                                    s = s > S ? S + 1 : s;
                                    document.getElementById(self.wrap).style.width = h + 'px';
                                    document.getElementById(self.wrap).style.height = document.getElementById(self.contain).offsetHeight + 'px';
                                    try {
                                        self.$el.style.width = S + 'px';
                                        self.$el.children[0].style.width = s + 'px';
                                    }
                                    catch (e) {
                                    }
                                }
                                self.h = h;
                                self.H = H;
                                if (H === h) {
                                    self.$el.style.display = 'none';
                                }
                                else {
                                    self.$el.style.display = 'block';
                                }
                                self.max = ~~(S - s + 1);
                                self.step = s;
                                document.getElementById(this.wrap).style.position = "relative";
                                document.getElementById(this.contain).style.position = "relative";
                                self.wheelMove(-0.1); //用来解决内容页初始化没跟着滚动条变化
                                o.onmousedown = function (e) {
                                    e.cancelBubble = true;
                                    window.onmouseup = document.onmouseup = function (e) {
                                        e.cancelBubble = true;
                                        document.onmousemove = null;
                                        if (self.isValidDrag) {
                                            self.restart();
                                        }
                                    };
                                    if (e.target.className == "scroll-bg" || e.target.className == "scroll-bg-h") {
                                        self.sb = e.target;
                                        self.bgMouseDown(e);
                                    }
                                    else if (e.target.className == "scroll-block" || e.target.className == "scroll-block-h") {
                                        self.sb = self.$el;
                                        self.sk = e.target;
                                        self.skMouseDown(e);
                                    }
                                    else {
                                    }
                                };
                                //o.onmouseenter = function (e) {
                                //    window.onmousewheel = document.onmousewheel = self.wheelScroll;
                                //}
                                //当移动到指定区域选定对应滚动条
                                o.onmouseover = function (e) {
                                    e.cancelBubble = true;
                                    o.onmousewheel = self.wheelScroll;
                                    /*Firefox注册事件*/
                                    if (document.addEventListener) {
                                        document.addEventListener('DOMMouseScroll', self.wheelScroll, false);
                                    }
                                };
                            }
                        },
                        created: function () {
                            this.cssCore = function (testCss) {
                                switch (true) {
                                    case testCss.webkitTransition === '':
                                        return 'webkit';
                                    case testCss.MozTransition === '':
                                        return 'Moz';
                                    case testCss.msTransition === '':
                                        return 'ms';
                                    case testCss.OTransition === '':
                                        return 'O';
                                    default:
                                        return '';
                                }
                            }(document.createElement('ComicView').style);
                            if (this.ishorizontal) {
                                this.$options.template = '<div class="scroll-bg-h" id="scrollBg" style="width: 400px; display: block;">' + '<div class="scroll-block-h"  id="scrollBlock" style="width: 80px;" :style={left:top}></div>' + '</div>';
                            }
                            //document.getElementById(this.contain).style.position = "absolute";
                        },
                        methods: {
                            cssCore: function (testCss) {
                                switch (true) {
                                    case testCss.webkitTransition === '':
                                        return 'webkit';
                                    case testCss.MozTransition === '':
                                        return 'Moz';
                                    case testCss.msTransition === '':
                                        return 'ms';
                                    case testCss.OTransition === '':
                                        return 'O';
                                    default:
                                        return '';
                                }
                            },
                            translate: function () {
                                if (this.cssCore !== '') {
                                    return function (o, x, y) {
                                        o[this.cssCore + 'Transform'] = 'translate(' + x + 'px,' + y + 'px) translateZ(0)';
                                    };
                                }
                                else {
                                    return function (o, x, y) {
                                        o.left = x + 'px';
                                        o.top = y + 'px';
                                    };
                                }
                            }(),
                            pull: function (e) {
                                if (this._top < 0) {
                                    this._top = 0;
                                    if (this.topcallback) {
                                        this.topcallback();
                                    }
                                }
                                else if (this._top > this.max) {
                                    this._top = this.max;
                                    if (this.bottomcallback) {
                                        this.bottomcallback();
                                    }
                                }
                                try {
                                    this.top = this._top + 'px';
                                    if (!this.ishorizontal) {
                                        document.getElementById(this.contain).style.top = ((this._top / this.max * (this.h - this.H)) >> 0) + "px";
                                    }
                                    else {
                                        document.getElementById(this.contain).style.left = ((this._top / this.max * (this.h - this.H)) >> 0) + "px";
                                    }
                                    if (this.callback) {
                                        this.callback();
                                    }
                                }
                                catch (e) {
                                }
                            },
                            goScroll: function (e) {
                                e = e || window.event;
                                if (e.preventDefault) {
                                    e.preventDefault();
                                }
                                else {
                                    e.returnValue = false;
                                }
                                if (this.isValidDrag) {
                                    this.delta = {
                                        X: e.clientX - this.start.X,
                                        Y: e.clientY - this.start.Y
                                    };
                                    if (!this.ishorizontal) {
                                        this._top = this.nowTop + this.delta.Y;
                                    }
                                    else {
                                        this._top = this.nowTop + this.delta.X;
                                    }
                                    this.pull();
                                }
                            },
                            runScroll: function (e) {
                            },
                            wheelScroll: function (e) {
                                //textarea的时候滚动条事件不触发
                                if (e.target.tagName == "TEXTAREA")
                                    return;
                                var isFromScroll = false, direct, thisScroll, o;
                                e = e || window.event;
                                o = e.target || e.srcElement;
                                while (o.tagName.toUpperCase() !== 'BODY') {
                                    thisScroll = o.getAttribute('data-scroll');
                                    if (thisScroll) {
                                        isFromScroll = true;
                                        break;
                                    }
                                    else {
                                        o = o.parentNode;
                                    }
                                }
                                if (!isFromScroll || o.id != ap.core.ui.CONTROLS[this.$el.id]._control["scrollid"])
                                    return;
                                if (e.preventDefault) {
                                    e.preventDefault();
                                }
                                else {
                                    e.returnValue = false;
                                }
                                direct = -e.wheelDelta || e.detail;
                                direct = direct < 0 ? -1 : 1;
                                this.wheelMove(direct);
                            },
                            wheelMove: function (dir) {
                                this._top = this.nowTop + ~~(80 * .1) * dir;
                                this.pull();
                                this.nowTop = this._top;
                            },
                            skMouseDown: function (e) {
                                this.isValidDrag = true;
                                window.onmousemove = document.onmousemove = this.goScroll;
                                this.addClass(this.sb, 'scroll-scrolling');
                                this.removeClass(document.getElementById(this.contain), "moved");
                                e = e || window.event;
                                this.start = {
                                    X: e.clientX,
                                    Y: e.clientY,
                                    time: +new Date
                                };
                                this.delta = {};
                            },
                            bgMouseDown: function (e) {
                                e = e || window.event;
                                //if ((e.target || e.srcElement) === sk) return;
                                this._top = e.offsetY < this.nowTop ? this.nowTop - (this.step * .7) >> 0
                                    : this.nowTop + (this.step * .7) >> 0;
                                this.pull();
                                this.nowTop = this._top;
                            },
                            addClass: function (o, cls) {
                                var oN = o.className;
                                if (oN.indexOf(cls) === -1) {
                                    o.className = oN + ' ' + cls;
                                }
                            },
                            removeClass: function (o, cls) {
                                var oN = o.className, arrName, arrNow;
                                if (oN.indexOf(cls) === -1)
                                    return;
                                arrName = oN.split(' ');
                                arrNow = arrName.length;
                                while (arrNow--) {
                                    if (arrName[arrNow] === cls) {
                                        arrName.splice(arrNow, 1);
                                    }
                                }
                                o.className = arrName.join(' ');
                            },
                            restart: function () {
                                this.isValidDrag = false;
                                this.removeClass(this.sb, 'scroll-scrolling');
                                this.addClass(document.getElementById(this.contain), 'moved');
                                if (!this.delta.Y)
                                    return;
                                this.nowTop = this._top;
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            var self = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return scroll;
            })(ap.core.ui);
            widget.scroll = scroll;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
/*****************************************************************
** Copyright (c) 南京奥派（AllPass）信息产业股份公司产品中心
** 创建人: 何健伟
** 创建日期: 2017年12月15日 09时00分
** 描 述: radiobutton组件
**-----------------------------------------------------------------
******************************************************************/
var ap;
(function (ap) {
    var ui;
    (function (ui) {
        var widget;
        (function (widget) {
            var radiobutton = (function (_super) {
                __extends(radiobutton, _super);
                /*构造函数*/
                function radiobutton(id) {
                    _super.call(this, id);
                    this.init();
                }
                Object.defineProperty(radiobutton.prototype, "value", {
                    /*单选框选中值*/
                    get: function () {
                        return this._control["value"];
                    },
                    set: function (value) {
                        this._control["value"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(radiobutton.prototype, "options", {
                    /*单选框选项*/
                    get: function () {
                        return this._control["options"];
                    },
                    set: function (value) {
                        this._control["options"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(radiobutton.prototype, "data", {
                    /*单选框数据*/
                    get: function () {
                        return this._control["data"];
                    },
                    set: function (value) {
                        this._control["data"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(radiobutton.prototype, "dataValueField", {
                    /*value值*/
                    get: function () {
                        return this._control["dataValueField"];
                    },
                    set: function (value) {
                        this._control["dataValueField"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                Object.defineProperty(radiobutton.prototype, "dataTextField", {
                    /*text值*/
                    get: function () {
                        return this._control["dataTextField"];
                    },
                    set: function (value) {
                        this._control["dataTextField"] = value;
                    },
                    enumerable: true,
                    configurable: true
                });
                /*初始化组件*/
                radiobutton.prototype.init = function () {
                    Vue.component("ap-radiobutton", {
                        template: '<div class="allpass-rb-outer">' +
                            '<label v-for="(value,index) in options" class="formLabel"  v-on:click="rdclick(value.value)"><i :class="radioclass(index)"></i>{{value.text}}</label>' +
                            '</div>',
                        data: function () {
                            return {
                                value: "",
                                options: [],
                                data: [],
                                dataValueField: "",
                                dataTextField: ""
                            };
                        },
                        props: {
                            callback: Function
                        },
                        watch: {
                            data: function () {
                                var self = this;
                                if (!(this.dataValueField && this.dataTextField))
                                    return;
                                this.options = [];
                                this.data.forEach(function (value, index, arr) {
                                    var obj = {};
                                    obj.value = value[self.dataValueField];
                                    obj.text = value[self.dataTextField];
                                    self.options.push(obj);
                                });
                            }
                        },
                        methods: {
                            radioclass: function (index) {
                                if (this.value) {
                                    return this.value == this.options[index].value ? "u-radio icon-radio icon-radiosel" : "u-radio icon-radio";
                                }
                                else {
                                    return "u-radio icon-radio";
                                }
                            },
                            rdclick: function (value) {
                                this.value = value;
                                console.log(value);
                                this.$emit('input', value);
                                if (this.callback) {
                                    this.callback(value);
                                }
                            }
                        },
                        mounted: function () {
                            var _this = this;
                            ap.core.ui.CONTROLS[this.$el.id]._control = this.$root.$children.filter(function (ctl, index) { return ctl.$el.id == _this.$el.id; })[0];
                        }
                    });
                };
                return radiobutton;
            })(ap.core.ui);
            widget.radiobutton = radiobutton;
        })(widget = ui.widget || (ui.widget = {}));
    })(ui = ap.ui || (ap.ui = {}));
})(ap || (ap = {}));
